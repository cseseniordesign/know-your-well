{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _includes from \"lodash-es/includes\";\nimport _compact from \"lodash-es/compact\";\nimport _map from \"lodash-es/map\";\nimport _every from \"lodash-es/every\";\nimport _without from \"lodash-es/without\";\nimport _find from \"lodash-es/find\";\nimport _dropRight from \"lodash-es/dropRight\";\nimport _isEmpty from \"lodash-es/isEmpty\";\nimport _size from \"lodash-es/size\";\nimport _difference from \"lodash-es/difference\";\nimport _union from \"lodash-es/union\";\nimport _get from \"lodash-es/get\";\nimport _noop from \"lodash-es/noop\";\nimport _isUndefined from \"lodash-es/isUndefined\";\nimport _invoke from \"lodash-es/invoke\";\nimport _has from \"lodash-es/has\";\nimport _isEqual from \"lodash-es/isEqual\";\nimport _isFunction from \"lodash-es/isFunction\";\nimport _pick from \"lodash-es/pick\";\nimport _isNil from \"lodash-es/isNil\";\nimport EventStack from '@semantic-ui-react/event-stack';\nimport { Ref } from '@fluentui/react-component-ref';\nimport cx from 'clsx';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement, createRef } from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, getElementType, getUnhandledProps, objectDiff, useKeyOnly, useKeyOrValueAndKey } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Label from '../../elements/Label';\nimport Flag from '../../elements/Flag';\nimport Image from '../../elements/Image';\nimport DropdownDivider from './DropdownDivider';\nimport DropdownItem from './DropdownItem';\nimport DropdownHeader from './DropdownHeader';\nimport DropdownMenu from './DropdownMenu';\nimport DropdownSearchInput from './DropdownSearchInput';\nimport DropdownText from './DropdownText';\nimport getMenuOptions from './utils/getMenuOptions';\nimport getSelectedIndex from './utils/getSelectedIndex';\n\nvar getKeyOrValue = function getKeyOrValue(key, value) {\n  return _isNil(key) ? value : key;\n};\n\nvar getKeyAndValues = function getKeyAndValues(options) {\n  return options ? options.map(function (option) {\n    return _pick(option, ['key', 'value']);\n  }) : options;\n};\n\nfunction renderItemContent(item) {\n  var flag = item.flag,\n      image = item.image,\n      text = item.text; // TODO: remove this in v3\n  // This maintains compatibility with Shorthand API in v1 as this might be called in \"Label.create()\"\n\n  if (_isFunction(text)) {\n    return text;\n  }\n\n  return {\n    content: /*#__PURE__*/React.createElement(React.Fragment, null, Flag.create(flag), Image.create(image), text)\n  };\n}\n/**\n * A dropdown allows a user to select a value from a series of options.\n * @see Form\n * @see Select\n * @see Menu\n */\n\n\nvar Dropdown = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Dropdown, _Component);\n\n  function Dropdown() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.searchRef = /*#__PURE__*/createRef();\n    _this.sizerRef = /*#__PURE__*/createRef();\n    _this.ref = /*#__PURE__*/createRef();\n\n    _this.handleChange = function (e, value) {\n      _invoke(_this.props, 'onChange', e, _extends({}, _this.props, {\n        value: value\n      }));\n    };\n\n    _this.closeOnChange = function (e) {\n      var _this$props = _this.props,\n          closeOnChange = _this$props.closeOnChange,\n          multiple = _this$props.multiple;\n      var shouldClose = _isUndefined(closeOnChange) ? !multiple : closeOnChange;\n\n      if (shouldClose) {\n        _this.close(e, _noop);\n      }\n    };\n\n    _this.closeOnEscape = function (e) {\n      if (!_this.props.closeOnEscape) return;\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close(e);\n    };\n\n    _this.moveSelectionOnKeyDown = function (e) {\n      var _moves;\n\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          selectOnNavigation = _this$props2.selectOnNavigation;\n      var open = _this.state.open;\n\n      if (!open) {\n        return;\n      }\n\n      var moves = (_moves = {}, _moves[keyboardKey.ArrowDown] = 1, _moves[keyboardKey.ArrowUp] = -1, _moves);\n      var move = moves[keyboardKey.getCode(e)];\n\n      if (move === undefined) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var nextIndex = _this.getSelectedIndexAfterMove(move);\n\n      if (!multiple && selectOnNavigation) {\n        _this.makeSelectedItemActive(e, nextIndex);\n      }\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n    };\n\n    _this.openOnSpace = function (e) {\n      var _e$target, _e$target2, _e$target3;\n\n      var shouldHandleEvent = _this.state.focus && !_this.state.open && keyboardKey.getCode(e) === keyboardKey.Spacebar;\n      var shouldPreventDefault = ((_e$target = e.target) == null ? void 0 : _e$target.tagName) !== 'INPUT' && ((_e$target2 = e.target) == null ? void 0 : _e$target2.tagName) !== 'TEXTAREA' && ((_e$target3 = e.target) == null ? void 0 : _e$target3.isContentEditable) !== true;\n\n      if (shouldHandleEvent) {\n        if (shouldPreventDefault) {\n          e.preventDefault();\n        }\n\n        _this.open(e);\n      }\n    };\n\n    _this.openOnArrow = function (e) {\n      var _this$state = _this.state,\n          focus = _this$state.focus,\n          open = _this$state.open;\n\n      if (focus && !open) {\n        var code = keyboardKey.getCode(e);\n\n        if (code === keyboardKey.ArrowDown || code === keyboardKey.ArrowUp) {\n          e.preventDefault();\n\n          _this.open(e);\n        }\n      }\n    };\n\n    _this.makeSelectedItemActive = function (e, selectedIndex) {\n      var _this$state2 = _this.state,\n          open = _this$state2.open,\n          value = _this$state2.value;\n      var multiple = _this.props.multiple;\n\n      var item = _this.getSelectedItem(selectedIndex);\n\n      var selectedValue = _get(item, 'value');\n\n      var disabled = _get(item, 'disabled'); // prevent selecting null if there was no selected item value\n      // prevent selecting duplicate items when the dropdown is closed\n      // prevent selecting disabled items\n\n\n      if (_isNil(selectedValue) || !open || disabled) {\n        return value;\n      } // state value may be undefined\n\n\n      var newValue = multiple ? _union(value, [selectedValue]) : selectedValue;\n      var valueHasChanged = multiple ? !!_difference(newValue, value).length : newValue !== value;\n\n      if (valueHasChanged) {\n        // notify the onChange prop that the user is trying to change value\n        _this.setState({\n          value: newValue\n        });\n\n        _this.handleChange(e, newValue); // Heads up! This event handler should be called after `onChange`\n        // Notify the onAddItem prop if this is a new value\n\n\n        if (item['data-additional']) {\n          _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n            value: selectedValue\n          }));\n        }\n      }\n\n      return value;\n    };\n\n    _this.selectItemOnEnter = function (e) {\n      var search = _this.props.search;\n      var _this$state3 = _this.state,\n          open = _this$state3.open,\n          selectedIndex = _this$state3.selectedIndex;\n\n      if (!open) {\n        return;\n      }\n\n      var shouldSelect = keyboardKey.getCode(e) === keyboardKey.Enter || // https://github.com/Semantic-Org/Semantic-UI-React/pull/3766\n      !search && keyboardKey.getCode(e) === keyboardKey.Spacebar;\n\n      if (!shouldSelect) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var optionSize = _size(getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      }));\n\n      if (search && optionSize === 0) {\n        return;\n      }\n\n      var nextValue = _this.makeSelectedItemActive(e, selectedIndex); // This is required as selected value may be the same\n\n\n      _this.setState({\n        selectedIndex: getSelectedIndex({\n          additionLabel: _this.props.additionLabel,\n          additionPosition: _this.props.additionPosition,\n          allowAdditions: _this.props.allowAdditions,\n          deburr: _this.props.deburr,\n          multiple: _this.props.multiple,\n          search: _this.props.search,\n          selectedIndex: selectedIndex,\n          value: nextValue,\n          options: _this.props.options,\n          searchQuery: ''\n        })\n      });\n\n      _this.closeOnChange(e);\n\n      _this.clearSearchQuery();\n\n      if (search) {\n        _invoke(_this.searchRef.current, 'focus');\n      }\n    };\n\n    _this.removeItemOnBackspace = function (e) {\n      var _this$props3 = _this.props,\n          multiple = _this$props3.multiple,\n          search = _this$props3.search;\n      var _this$state4 = _this.state,\n          searchQuery = _this$state4.searchQuery,\n          value = _this$state4.value;\n      if (keyboardKey.getCode(e) !== keyboardKey.Backspace) return;\n      if (searchQuery || !search || !multiple || _isEmpty(value)) return;\n      e.preventDefault(); // remove most recent value\n\n      var newValue = _dropRight(value);\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.closeOnDocumentClick = function (e) {\n      if (!_this.props.closeOnBlur) return; // If event happened in the dropdown, ignore it\n\n      if (_this.ref.current && doesNodeContainClick(_this.ref.current, e)) return;\n\n      _this.close();\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n\n      document.addEventListener('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      document.removeEventListener('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleClick = function (e) {\n      var _this$props4 = _this.props,\n          minCharacters = _this$props4.minCharacters,\n          search = _this$props4.search;\n      var _this$state5 = _this.state,\n          open = _this$state5.open,\n          searchQuery = _this$state5.searchQuery;\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent closeOnDocumentClick()\n\n\n      e.stopPropagation();\n      if (!search) return _this.toggle(e);\n\n      if (open) {\n        _invoke(_this.searchRef.current, 'focus');\n\n        return;\n      }\n\n      if (searchQuery.length >= minCharacters || minCharacters === 1) {\n        _this.open(e);\n\n        return;\n      }\n\n      _invoke(_this.searchRef.current, 'focus');\n    };\n\n    _this.handleIconClick = function (e) {\n      var clearable = _this.props.clearable;\n\n      var hasValue = _this.hasValue();\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent handleClick()\n\n\n      e.stopPropagation();\n\n      if (clearable && hasValue) {\n        _this.clearValue(e);\n      } else {\n        _this.toggle(e);\n      }\n    };\n\n    _this.handleItemClick = function (e, item) {\n      var _this$props5 = _this.props,\n          multiple = _this$props5.multiple,\n          search = _this$props5.search;\n      var currentValue = _this.state.value;\n      var value = item.value; // prevent toggle() in handleClick()\n\n      e.stopPropagation(); // prevent closeOnDocumentClick() if multiple or item is disabled\n\n      if (multiple || item.disabled) {\n        e.nativeEvent.stopImmediatePropagation();\n      }\n\n      if (item.disabled) {\n        return;\n      }\n\n      var isAdditionItem = item['data-additional'];\n      var newValue = multiple ? _union(_this.state.value, [value]) : value;\n      var valueHasChanged = multiple ? !!_difference(newValue, currentValue).length : newValue !== currentValue; // notify the onChange prop that the user is trying to change value\n\n      if (valueHasChanged) {\n        _this.setState({\n          value: newValue\n        });\n\n        _this.handleChange(e, newValue);\n      }\n\n      _this.clearSearchQuery();\n\n      if (search) {\n        _invoke(_this.searchRef.current, 'focus');\n      } else {\n        _invoke(_this.ref.current, 'focus');\n      }\n\n      _this.closeOnChange(e); // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n\n\n      if (isAdditionItem) {\n        _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n          value: value\n        }));\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      var focus = _this.state.focus;\n      if (focus) return;\n\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      // Heads up! Don't remove this.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/1315\n      var currentTarget = _get(e, 'currentTarget');\n\n      if (currentTarget && currentTarget.contains(document.activeElement)) return;\n      var _this$props6 = _this.props,\n          closeOnBlur = _this$props6.closeOnBlur,\n          multiple = _this$props6.multiple,\n          selectOnBlur = _this$props6.selectOnBlur; // do not \"blur\" when the mouse is down inside of the Dropdown\n\n      if (_this.isMouseDown) return;\n\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      if (selectOnBlur && !multiple) {\n        _this.makeSelectedItemActive(e, _this.state.selectedIndex);\n\n        if (closeOnBlur) _this.close();\n      }\n\n      _this.setState({\n        focus: false\n      });\n\n      _this.clearSearchQuery();\n    };\n\n    _this.handleSearchChange = function (e, _ref) {\n      var value = _ref.value; // prevent propagating to this.props.onChange()\n\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        searchQuery: newQuery\n      }));\n\n      _this.setState({\n        searchQuery: newQuery,\n        selectedIndex: 0\n      }); // open search dropdown on search query\n\n\n      if (!open && newQuery.length >= minCharacters) {\n        _this.open();\n\n        return;\n      } // close search dropdown if search query is too small\n\n\n      if (open && minCharacters !== 1 && newQuery.length < minCharacters) _this.close();\n    };\n\n    _this.handleKeyDown = function (e) {\n      _this.moveSelectionOnKeyDown(e);\n\n      _this.openOnArrow(e);\n\n      _this.openOnSpace(e);\n\n      _this.selectItemOnEnter(e);\n\n      _invoke(_this.props, 'onKeyDown', e);\n    };\n\n    _this.getSelectedItem = function (selectedIndex) {\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      });\n      return _get(options, \"[\" + selectedIndex + \"]\");\n    };\n\n    _this.getItemByValue = function (value) {\n      var options = _this.props.options;\n      return _find(options, {\n        value: value\n      });\n    };\n\n    _this.getDropdownAriaOptions = function () {\n      var _this$props7 = _this.props,\n          loading = _this$props7.loading,\n          disabled = _this$props7.disabled,\n          search = _this$props7.search,\n          multiple = _this$props7.multiple;\n      var open = _this.state.open;\n      var ariaOptions = {\n        role: search ? 'combobox' : 'listbox',\n        'aria-busy': loading,\n        'aria-disabled': disabled,\n        'aria-expanded': !!open\n      };\n\n      if (ariaOptions.role === 'listbox') {\n        ariaOptions['aria-multiselectable'] = multiple;\n      }\n\n      return ariaOptions;\n    };\n\n    _this.clearSearchQuery = function () {\n      var searchQuery = _this.state.searchQuery;\n      if (searchQuery === undefined || searchQuery === '') return;\n\n      _this.setState({\n        searchQuery: ''\n      });\n    };\n\n    _this.handleLabelClick = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n\n      _this.setState({\n        selectedLabel: labelProps.value\n      });\n\n      _invoke(_this.props, 'onLabelClick', e, labelProps);\n    };\n\n    _this.handleLabelRemove = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n      var value = _this.state.value;\n\n      var newValue = _without(value, labelProps.value);\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.getSelectedIndexAfterMove = function (offset, startIndex) {\n      if (startIndex === void 0) {\n        startIndex = _this.state.selectedIndex;\n      }\n\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      }); // Prevent infinite loop\n      // TODO: remove left part of condition after children API will be removed\n\n      if (options === undefined || _every(options, 'disabled')) return;\n      var lastIndex = options.length - 1;\n      var wrapSelection = _this.props.wrapSelection; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = startIndex + offset; // if 'wrapSelection' is set to false and selection is after last or before first, it just does not change\n\n      if (!wrapSelection && (nextIndex > lastIndex || nextIndex < 0)) {\n        nextIndex = startIndex;\n      } else if (nextIndex > lastIndex) {\n        nextIndex = 0;\n      } else if (nextIndex < 0) {\n        nextIndex = lastIndex;\n      }\n\n      if (options[nextIndex].disabled) {\n        return _this.getSelectedIndexAfterMove(offset, nextIndex);\n      }\n\n      return nextIndex;\n    };\n\n    _this.handleIconOverrides = function (predefinedProps) {\n      var clearable = _this.props.clearable;\n      var classes = cx(clearable && _this.hasValue() && 'clear', predefinedProps.className);\n      return {\n        className: classes,\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e, predefinedProps);\n\n          _this.handleIconClick(e);\n        }\n      };\n    };\n\n    _this.clearValue = function (e) {\n      var multiple = _this.props.multiple;\n      var newValue = multiple ? [] : '';\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.computeSearchInputTabIndex = function () {\n      var _this$props8 = _this.props,\n          disabled = _this$props8.disabled,\n          tabIndex = _this$props8.tabIndex;\n      if (!_isNil(tabIndex)) return tabIndex;\n      return disabled ? -1 : 0;\n    };\n\n    _this.computeSearchInputWidth = function () {\n      var searchQuery = _this.state.searchQuery;\n\n      if (_this.sizerRef.current && searchQuery) {\n        // resize the search input, temporarily show the sizer so we can measure it\n        _this.sizerRef.current.style.display = 'inline';\n        _this.sizerRef.current.textContent = searchQuery;\n        var searchWidth = Math.ceil(_this.sizerRef.current.getBoundingClientRect().width);\n\n        _this.sizerRef.current.style.removeProperty('display');\n\n        return searchWidth;\n      }\n    };\n\n    _this.computeTabIndex = function () {\n      var _this$props9 = _this.props,\n          disabled = _this$props9.disabled,\n          search = _this$props9.search,\n          tabIndex = _this$props9.tabIndex; // don't set a root node tabIndex as the search input has its own tabIndex\n\n      if (search) return undefined;\n      if (disabled) return -1;\n      return _isNil(tabIndex) ? 0 : tabIndex;\n    };\n\n    _this.handleSearchInputOverrides = function (predefinedProps) {\n      return {\n        onChange: function onChange(e, inputProps) {\n          _invoke(predefinedProps, 'onChange', e, inputProps);\n\n          _this.handleSearchChange(e, inputProps);\n        }\n      };\n    };\n\n    _this.hasValue = function () {\n      var multiple = _this.props.multiple;\n      var value = _this.state.value;\n      return multiple ? !_isEmpty(value) : !_isNil(value) && value !== '';\n    };\n\n    _this.scrollSelectedItemIntoView = function () {\n      if (!_this.ref.current) return;\n\n      var menu = _this.ref.current.querySelector('.menu.visible');\n\n      if (!menu) return;\n      var item = menu.querySelector('.item.selected');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        // eslint-disable-next-line no-mixed-operators\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    };\n\n    _this.setOpenDirection = function () {\n      if (!_this.ref.current) return;\n\n      var menu = _this.ref.current.querySelector('.menu.visible');\n\n      if (!menu) return;\n\n      var dropdownRect = _this.ref.current.getBoundingClientRect();\n\n      var menuHeight = menu.clientHeight;\n      var spaceAtTheBottom = document.documentElement.clientHeight - dropdownRect.top - dropdownRect.height - menuHeight;\n      var spaceAtTheTop = dropdownRect.top - menuHeight;\n      var upward = spaceAtTheBottom < 0 && spaceAtTheTop > spaceAtTheBottom; // set state only if there's a relevant difference\n\n      if (!upward !== !_this.state.upward) {\n        _this.setState({\n          upward: upward\n        });\n      }\n    };\n\n    _this.open = function (e, triggerSetState) {\n      if (e === void 0) {\n        e = null;\n      }\n\n      if (triggerSetState === void 0) {\n        triggerSetState = true;\n      }\n\n      var _this$props10 = _this.props,\n          disabled = _this$props10.disabled,\n          search = _this$props10.search;\n      if (disabled) return;\n      if (search) _invoke(_this.searchRef.current, 'focus');\n\n      _invoke(_this.props, 'onOpen', e, _this.props);\n\n      if (triggerSetState) {\n        _this.setState({\n          open: true\n        });\n      }\n\n      _this.scrollSelectedItemIntoView();\n    };\n\n    _this.close = function (e, callback) {\n      if (callback === void 0) {\n        callback = _this.handleClose;\n      }\n\n      if (_this.state.open) {\n        _invoke(_this.props, 'onClose', e, _this.props);\n\n        _this.setState({\n          open: false\n        }, callback);\n      }\n    };\n\n    _this.handleClose = function () {\n      var hasSearchFocus = document.activeElement === _this.searchRef.current; // https://github.com/Semantic-Org/Semantic-UI-React/issues/627\n      // Blur the Dropdown on close so it is blurred after selecting an item.\n      // This is to prevent it from re-opening when switching tabs after selecting an item.\n\n      if (!hasSearchFocus && _this.ref.current) {\n        _this.ref.current.blur();\n      }\n\n      var hasDropdownFocus = document.activeElement === _this.ref.current;\n      var hasFocus = hasSearchFocus || hasDropdownFocus; // We need to keep the virtual model in sync with the browser focus change\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/692\n\n      _this.setState({\n        focus: hasFocus\n      });\n    };\n\n    _this.toggle = function (e) {\n      return _this.state.open ? _this.close(e) : _this.open(e);\n    };\n\n    _this.renderText = function () {\n      var _this$props11 = _this.props,\n          multiple = _this$props11.multiple,\n          placeholder = _this$props11.placeholder,\n          search = _this$props11.search,\n          text = _this$props11.text;\n      var _this$state6 = _this.state,\n          searchQuery = _this$state6.searchQuery,\n          selectedIndex = _this$state6.selectedIndex,\n          value = _this$state6.value,\n          open = _this$state6.open;\n\n      var hasValue = _this.hasValue();\n\n      var classes = cx(placeholder && !hasValue && 'default', 'text', search && searchQuery && 'filtered');\n      var _text = placeholder;\n      var selectedItem;\n\n      if (text) {\n        _text = text;\n      } else if (open && !multiple) {\n        selectedItem = _this.getSelectedItem(selectedIndex);\n      } else if (hasValue) {\n        selectedItem = _this.getItemByValue(value);\n      }\n\n      return DropdownText.create(selectedItem ? renderItemContent(selectedItem) : _text, {\n        defaultProps: {\n          className: classes\n        }\n      });\n    };\n\n    _this.renderSearchInput = function () {\n      var _this$props12 = _this.props,\n          search = _this$props12.search,\n          searchInput = _this$props12.searchInput;\n      var searchQuery = _this.state.searchQuery;\n      return search && /*#__PURE__*/React.createElement(Ref, {\n        innerRef: _this.searchRef\n      }, DropdownSearchInput.create(searchInput, {\n        defaultProps: {\n          style: {\n            width: _this.computeSearchInputWidth()\n          },\n          tabIndex: _this.computeSearchInputTabIndex(),\n          value: searchQuery\n        },\n        overrideProps: _this.handleSearchInputOverrides\n      }));\n    };\n\n    _this.renderSearchSizer = function () {\n      var _this$props13 = _this.props,\n          search = _this$props13.search,\n          multiple = _this$props13.multiple;\n      return search && multiple && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sizer\",\n        ref: _this.sizerRef\n      });\n    };\n\n    _this.renderLabels = function () {\n      var _this$props14 = _this.props,\n          multiple = _this$props14.multiple,\n          renderLabel = _this$props14.renderLabel;\n      var _this$state7 = _this.state,\n          selectedLabel = _this$state7.selectedLabel,\n          value = _this$state7.value;\n\n      if (!multiple || _isEmpty(value)) {\n        return;\n      }\n\n      var selectedItems = _map(value, _this.getItemByValue); // if no item could be found for a given state value the selected item will be undefined\n      // compact the selectedItems so we only have actual objects left\n\n\n      return _map(_compact(selectedItems), function (item, index) {\n        var defaultProps = {\n          active: item.value === selectedLabel,\n          as: 'a',\n          key: getKeyOrValue(item.key, item.value),\n          onClick: _this.handleLabelClick,\n          onRemove: _this.handleLabelRemove,\n          value: item.value\n        };\n        return Label.create(renderLabel(item, index, defaultProps), {\n          defaultProps: defaultProps\n        });\n      });\n    };\n\n    _this.renderOptions = function () {\n      var _this$props15 = _this.props,\n          lazyLoad = _this$props15.lazyLoad,\n          multiple = _this$props15.multiple,\n          search = _this$props15.search,\n          noResultsMessage = _this$props15.noResultsMessage;\n      var _this$state8 = _this.state,\n          open = _this$state8.open,\n          selectedIndex = _this$state8.selectedIndex,\n          value = _this$state8.value; // lazy load, only render options when open\n\n      if (lazyLoad && !open) return null;\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      });\n\n      if (noResultsMessage !== null && search && _isEmpty(options)) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"message\"\n        }, noResultsMessage);\n      }\n\n      var isActive = multiple ? function (optValue) {\n        return _includes(value, optValue);\n      } : function (optValue) {\n        return optValue === value;\n      };\n      return _map(options, function (opt, i) {\n        return DropdownItem.create(_extends({\n          active: isActive(opt.value),\n          selected: selectedIndex === i\n        }, opt, {\n          key: getKeyOrValue(opt.key, opt.value),\n          // Needed for handling click events on disabled items\n          style: _extends({}, opt.style, {\n            pointerEvents: 'all'\n          })\n        }), {\n          generateKey: false,\n          overrideProps: function overrideProps(predefinedProps) {\n            return {\n              onClick: function onClick(e, item) {\n                predefinedProps.onClick == null ? void 0 : predefinedProps.onClick(e, item);\n\n                _this.handleItemClick(e, item);\n              }\n            };\n          }\n        });\n      });\n    };\n\n    _this.renderMenu = function () {\n      var _this$props16 = _this.props,\n          children = _this$props16.children,\n          direction = _this$props16.direction,\n          header = _this$props16.header;\n      var open = _this.state.open;\n\n      var ariaOptions = _this.getDropdownMenuAriaOptions(); // single menu child\n\n\n      if (!childrenUtils.isNil(children)) {\n        var menuChild = Children.only(children);\n        var className = cx(direction, useKeyOnly(open, 'visible'), menuChild.props.className);\n        return /*#__PURE__*/cloneElement(menuChild, _extends({\n          className: className\n        }, ariaOptions));\n      }\n\n      return /*#__PURE__*/React.createElement(DropdownMenu, _extends({}, ariaOptions, {\n        direction: direction,\n        open: open\n      }), DropdownHeader.create(header, {\n        autoGenerateKey: false\n      }), _this.renderOptions());\n    };\n\n    return _this;\n  }\n\n  var _proto = Dropdown.prototype;\n\n  _proto.getInitialAutoControlledState = function getInitialAutoControlledState() {\n    return {\n      focus: false,\n      searchQuery: ''\n    };\n  };\n\n  Dropdown.getAutoControlledStateFromProps = function getAutoControlledStateFromProps(nextProps, computedState, prevState) {\n    // These values are stored only for a comparison on next getAutoControlledStateFromProps()\n    var derivedState = {\n      __options: nextProps.options,\n      __value: computedState.value\n    }; // The selected index is only dependent:\n\n    var shouldComputeSelectedIndex = // On value change\n    !shallowEqual(prevState.__value, computedState.value) || // On option keys/values, we only check those properties to avoid recursive performance impacts.\n    // https://github.com/Semantic-Org/Semantic-UI-React/issues/3000\n    !_isEqual(getKeyAndValues(nextProps.options), getKeyAndValues(prevState.__options));\n\n    if (shouldComputeSelectedIndex) {\n      derivedState.selectedIndex = getSelectedIndex({\n        additionLabel: nextProps.additionLabel,\n        additionPosition: nextProps.additionPosition,\n        allowAdditions: nextProps.allowAdditions,\n        deburr: nextProps.deburr,\n        multiple: nextProps.multiple,\n        search: nextProps.search,\n        selectedIndex: computedState.selectedIndex,\n        value: computedState.value,\n        options: nextProps.options,\n        searchQuery: computedState.searchQuery\n      });\n    }\n\n    return derivedState;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var open = this.state.open;\n\n    if (open) {\n      this.open(null, false);\n    }\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-line complexity\n    var _this$props17 = this.props,\n        closeOnBlur = _this$props17.closeOnBlur,\n        minCharacters = _this$props17.minCharacters,\n        openOnFocus = _this$props17.openOnFocus,\n        search = _this$props17.search;\n    /* eslint-disable no-console */\n\n    if (process.env.NODE_ENV !== 'production') {\n      // in development, validate value type matches dropdown type\n      var isNextValueArray = Array.isArray(this.props.value);\n\n      var hasValue = _has(this.props, 'value');\n\n      if (hasValue && this.props.multiple && !isNextValueArray) {\n        console.error('Dropdown `value` must be an array when `multiple` is set.' + (\" Received type: `\" + Object.prototype.toString.call(this.props.value) + \"`.\"));\n      } else if (hasValue && !this.props.multiple && isNextValueArray) {\n        console.error('Dropdown `value` must not be an array when `multiple` is not set.' + ' Either set `multiple={true}` or use a string or number value.');\n      }\n    }\n    /* eslint-enable no-console */\n    // focused / blurred\n\n\n    if (!prevState.focus && this.state.focus) {\n      if (!this.isMouseDown) {\n        var openable = !search || search && minCharacters === 1 && !this.state.open;\n        if (openOnFocus && openable) this.open();\n      }\n    } else if (prevState.focus && !this.state.focus) {\n      if (!this.isMouseDown && closeOnBlur) {\n        this.close();\n      }\n    } // opened / closed\n\n\n    if (!prevState.open && this.state.open) {\n      this.setOpenDirection();\n      this.scrollSelectedItemIntoView();\n    } else if (prevState.open && !this.state.open) {}\n\n    if (prevState.selectedIndex !== this.state.selectedIndex) {\n      this.scrollSelectedItemIntoView();\n    }\n  } // ----------------------------------------\n  // Document Event Handlers\n  // ----------------------------------------\n  // onChange needs to receive a value\n  // can't rely on props.value if we are controlled\n  ;\n\n  _proto.getDropdownMenuAriaOptions = function getDropdownMenuAriaOptions() {\n    var _this$props18 = this.props,\n        search = _this$props18.search,\n        multiple = _this$props18.multiple;\n    var ariaOptions = {};\n\n    if (search) {\n      ariaOptions['aria-multiselectable'] = multiple;\n      ariaOptions.role = 'listbox';\n    }\n\n    return ariaOptions;\n  } // ----------------------------------------\n  // Setters\n  // ----------------------------------------\n  ;\n\n  _proto.render = function render() {\n    var _this$props19 = this.props,\n        basic = _this$props19.basic,\n        button = _this$props19.button,\n        className = _this$props19.className,\n        compact = _this$props19.compact,\n        disabled = _this$props19.disabled,\n        error = _this$props19.error,\n        fluid = _this$props19.fluid,\n        floating = _this$props19.floating,\n        icon = _this$props19.icon,\n        inline = _this$props19.inline,\n        item = _this$props19.item,\n        labeled = _this$props19.labeled,\n        loading = _this$props19.loading,\n        multiple = _this$props19.multiple,\n        pointing = _this$props19.pointing,\n        search = _this$props19.search,\n        selection = _this$props19.selection,\n        scrolling = _this$props19.scrolling,\n        simple = _this$props19.simple,\n        trigger = _this$props19.trigger;\n    var _this$state9 = this.state,\n        focus = _this$state9.focus,\n        open = _this$state9.open,\n        upward = _this$state9.upward; // Classes\n\n    var classes = cx('ui', useKeyOnly(open, 'active visible'), useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(loading, 'loading'), useKeyOnly(basic, 'basic'), useKeyOnly(button, 'button'), useKeyOnly(compact, 'compact'), useKeyOnly(fluid, 'fluid'), useKeyOnly(floating, 'floating'), useKeyOnly(inline, 'inline'), // TODO: consider augmentation to render Dropdowns as Button/Menu, solves icon/link item issues\n    // https://github.com/Semantic-Org/Semantic-UI-React/issues/401#issuecomment-240487229\n    // TODO: the icon class is only required when a dropdown is a button\n    // useKeyOnly(icon, 'icon'),\n    useKeyOnly(labeled, 'labeled'), useKeyOnly(item, 'item'), useKeyOnly(multiple, 'multiple'), useKeyOnly(search, 'search'), useKeyOnly(selection, 'selection'), useKeyOnly(simple, 'simple'), useKeyOnly(scrolling, 'scrolling'), useKeyOnly(upward, 'upward'), useKeyOrValueAndKey(pointing, 'pointing'), 'dropdown', className);\n    var rest = getUnhandledProps(Dropdown, this.props);\n    var ElementType = getElementType(Dropdown, this.props);\n    var ariaOptions = this.getDropdownAriaOptions(ElementType, this.props);\n    return /*#__PURE__*/React.createElement(Ref, {\n      innerRef: this.ref\n    }, /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, ariaOptions, {\n      className: classes,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeyDown,\n      onMouseDown: this.handleMouseDown,\n      onFocus: this.handleFocus,\n      onChange: this.handleChange,\n      tabIndex: this.computeTabIndex()\n    }), this.renderLabels(), this.renderSearchInput(), this.renderSearchSizer(), trigger || this.renderText(), Icon.create(icon, {\n      overrideProps: this.handleIconOverrides,\n      autoGenerateKey: false\n    }), this.renderMenu(), open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.closeOnEscape\n    }), open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"click\",\n      on: this.closeOnDocumentClick\n    }), focus && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.removeItemOnBackspace\n    })));\n  };\n\n  return Dropdown;\n}(Component);\n\nDropdown.handledProps = [\"additionLabel\", \"additionPosition\", \"allowAdditions\", \"as\", \"basic\", \"button\", \"children\", \"className\", \"clearable\", \"closeOnBlur\", \"closeOnChange\", \"closeOnEscape\", \"compact\", \"deburr\", \"defaultOpen\", \"defaultSearchQuery\", \"defaultSelectedLabel\", \"defaultUpward\", \"defaultValue\", \"direction\", \"disabled\", \"error\", \"floating\", \"fluid\", \"header\", \"icon\", \"inline\", \"item\", \"labeled\", \"lazyLoad\", \"loading\", \"minCharacters\", \"multiple\", \"noResultsMessage\", \"onAddItem\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onLabelClick\", \"onMouseDown\", \"onOpen\", \"onSearchChange\", \"open\", \"openOnFocus\", \"options\", \"placeholder\", \"pointing\", \"renderLabel\", \"scrolling\", \"search\", \"searchInput\", \"searchQuery\", \"selectOnBlur\", \"selectOnNavigation\", \"selectedLabel\", \"selection\", \"simple\", \"tabIndex\", \"text\", \"trigger\", \"upward\", \"value\", \"wrapSelection\"];\nexport { Dropdown as default };\nDropdown.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Label prefixed to an option added by a user. */\n  additionLabel: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\n  /** Position of the `Add: ...` option in the dropdown list ('top' or 'bottom'). */\n  additionPosition: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Allow user additions to the list of options (boolean).\n   * Requires the use of `selection`, `options` and `search`.\n   */\n  allowAdditions: customPropTypes.every([customPropTypes.demand(['options', 'selection', 'search']), PropTypes.bool]),\n\n  /** A Dropdown can reduce its complexity. */\n  basic: PropTypes.bool,\n\n  /** Format the Dropdown to appear as a button. */\n  button: PropTypes.bool,\n\n  /** Primary content. */\n  children: customPropTypes.every([customPropTypes.disallow(['options', 'selection']), customPropTypes.givenProps({\n    children: PropTypes.any.isRequired\n  }, PropTypes.element.isRequired)]),\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Using the clearable setting will let users remove their selection from a dropdown. */\n  clearable: PropTypes.bool,\n\n  /** Whether or not the menu should close when the dropdown is blurred. */\n  closeOnBlur: PropTypes.bool,\n\n  /** Whether or not the dropdown should close when the escape key is pressed. */\n  closeOnEscape: PropTypes.bool,\n\n  /**\n   * Whether or not the menu should close when a value is selected from the dropdown.\n   * By default, multiple selection dropdowns will remain open on change, while single\n   * selection dropdowns will close on change.\n   */\n  closeOnChange: PropTypes.bool,\n\n  /** A compact dropdown has no minimum width. */\n  compact: PropTypes.bool,\n\n  /** Whether or not the dropdown should strip diacritics in options and input search */\n  deburr: PropTypes.bool,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value of searchQuery. */\n  defaultSearchQuery: PropTypes.string,\n\n  /** Currently selected label in multi-select. */\n  defaultSelectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.number, PropTypes.string])]),\n\n  /** Initial value of upward. */\n  defaultUpward: PropTypes.bool,\n\n  /** Initial value or value array if multiple. */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]))]),\n\n  /** A dropdown menu can open to the left or to the right. */\n  direction: PropTypes.oneOf(['left', 'right']),\n\n  /** A disabled dropdown menu or item does not allow user interaction. */\n  disabled: PropTypes.bool,\n\n  /** An errored dropdown can alert a user to a problem. */\n  error: PropTypes.bool,\n\n  /** A dropdown menu can contain floated content. */\n  floating: PropTypes.bool,\n\n  /** A dropdown can take the full width of its parent */\n  fluid: PropTypes.bool,\n\n  /** A dropdown menu can contain a header. */\n  header: PropTypes.node,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** A dropdown can be formatted to appear inline in other content. */\n  inline: PropTypes.bool,\n\n  /** A dropdown can be formatted as a Menu item. */\n  item: PropTypes.bool,\n\n  /** A dropdown can be labeled. */\n  labeled: PropTypes.bool,\n\n  /** A dropdown can defer rendering its options until it is open. */\n  lazyLoad: PropTypes.bool,\n\n  /** A dropdown can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /** The minimum characters for a search to begin showing results. */\n  minCharacters: PropTypes.number,\n\n  /** A selection dropdown can allow multiple selections. */\n  multiple: PropTypes.bool,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /**\n   * Called when a user adds a new item. Use this to update the options list.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and the new item's value.\n   */\n  onAddItem: PropTypes.func,\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called when the user attempts to change the value.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called when a multi-select label is clicked.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All label props.\n   */\n  onLabelClick: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of searchQuery.\n   */\n  onSearchChange: PropTypes.func,\n\n  /** Controls whether or not the dropdown menu is displayed. */\n  open: PropTypes.bool,\n\n  /** Whether or not the menu should open when the dropdown is focused. */\n  openOnFocus: PropTypes.bool,\n\n  /** Array of Dropdown.Item props e.g. `{ text: '', value: '' }` */\n  options: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.arrayOf(PropTypes.shape(DropdownItem.propTypes))]),\n\n  /** Placeholder text. */\n  placeholder: PropTypes.string,\n\n  /** A dropdown can be formatted so that its menu is pointing. */\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['left', 'right', 'top', 'top left', 'top right', 'bottom', 'bottom left', 'bottom right'])]),\n\n  /**\n   * Mapped over the active items and returns shorthand for the active item Labels.\n   * Only applies to `multiple` Dropdowns.\n   *\n   * @param {object} item - A currently active dropdown item.\n   * @param {number} index - The current index.\n   * @param {object} defaultLabelProps - The default props for an active item Label.\n   * @returns {*} Shorthand for a Label.\n   */\n  renderLabel: PropTypes.func,\n\n  /** A dropdown can have its menu scroll. */\n  scrolling: PropTypes.bool,\n\n  /**\n   * A selection dropdown can allow a user to search through a large list of choices.\n   * Pass a function here to replace the default search.\n   */\n  search: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /** A shorthand for a search input. */\n  searchInput: PropTypes.oneOfType([PropTypes.array, PropTypes.node, PropTypes.object]),\n\n  /** Current value of searchQuery. Creates a controlled component. */\n  searchQuery: PropTypes.string,\n  // TODO 'searchInMenu' or 'search='in menu' or ???  How to handle this markup and functionality?\n\n  /** Define whether the highlighted item should be selected on blur. */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not to change the value when navigating the menu using arrow keys.\n   * Setting to false will require enter or left click to confirm a choice.\n   */\n  selectOnNavigation: PropTypes.bool,\n\n  /** Currently selected label in multi-select. */\n  selectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.string, PropTypes.number])]),\n\n  /** A dropdown can be used to select between choices in a form. */\n  selection: customPropTypes.every([customPropTypes.disallow(['children']), customPropTypes.demand(['options']), PropTypes.bool]),\n\n  /** A simple dropdown can open without Javascript. */\n  simple: PropTypes.bool,\n\n  /** A dropdown can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** The text displayed in the dropdown, usually for the active item. */\n  text: PropTypes.string,\n\n  /** Custom element to trigger the menu to become visible. Takes place of 'text'. */\n  trigger: customPropTypes.every([customPropTypes.disallow(['selection', 'text']), PropTypes.node]),\n\n  /** Current value or value array if multiple. Creates a controlled component. */\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]))]),\n\n  /** Controls whether the dropdown will open upward. */\n  upward: PropTypes.bool,\n\n  /**\n   * A dropdown will go to the last element when ArrowUp is pressed on the first,\n   * or go to the first when ArrowDown is pressed on the last( aka infinite selection )\n   */\n  wrapSelection: PropTypes.bool\n} : {};\nDropdown.defaultProps = {\n  additionLabel: 'Add ',\n  additionPosition: 'top',\n  closeOnBlur: true,\n  closeOnEscape: true,\n  deburr: false,\n  icon: 'dropdown',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  openOnFocus: true,\n  renderLabel: renderItemContent,\n  searchInput: 'text',\n  selectOnBlur: true,\n  selectOnNavigation: true,\n  wrapSelection: true\n};\nDropdown.autoControlledProps = ['open', 'searchQuery', 'selectedLabel', 'value', 'upward'];\nDropdown.Divider = DropdownDivider;\nDropdown.Header = DropdownHeader;\nDropdown.Item = DropdownItem;\nDropdown.Menu = DropdownMenu;\nDropdown.SearchInput = DropdownSearchInput;\nDropdown.Text = DropdownText;","map":{"version":3,"names":["_extends","_inheritsLoose","_includes","_compact","_map","_every","_without","_find","_dropRight","_isEmpty","_size","_difference","_union","_get","_noop","_isUndefined","_invoke","_has","_isEqual","_isFunction","_pick","_isNil","EventStack","Ref","cx","keyboardKey","PropTypes","React","Children","cloneElement","createRef","shallowEqual","ModernAutoControlledComponent","Component","childrenUtils","customPropTypes","doesNodeContainClick","getElementType","getUnhandledProps","objectDiff","useKeyOnly","useKeyOrValueAndKey","Icon","Label","Flag","Image","DropdownDivider","DropdownItem","DropdownHeader","DropdownMenu","DropdownSearchInput","DropdownText","getMenuOptions","getSelectedIndex","getKeyOrValue","key","value","getKeyAndValues","options","map","option","renderItemContent","item","flag","image","text","content","createElement","Fragment","create","Dropdown","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","searchRef","sizerRef","ref","handleChange","e","props","closeOnChange","_this$props","multiple","shouldClose","close","closeOnEscape","getCode","Escape","preventDefault","moveSelectionOnKeyDown","_moves","_this$props2","selectOnNavigation","open","state","moves","ArrowDown","ArrowUp","move","undefined","nextIndex","getSelectedIndexAfterMove","makeSelectedItemActive","setState","selectedIndex","openOnSpace","_e$target","_e$target2","_e$target3","shouldHandleEvent","focus","Spacebar","shouldPreventDefault","target","tagName","isContentEditable","openOnArrow","_this$state","code","_this$state2","getSelectedItem","selectedValue","disabled","newValue","valueHasChanged","selectItemOnEnter","search","_this$state3","shouldSelect","Enter","optionSize","searchQuery","additionLabel","additionPosition","allowAdditions","deburr","nextValue","clearSearchQuery","current","removeItemOnBackspace","_this$props3","_this$state4","Backspace","closeOnDocumentClick","closeOnBlur","handleMouseDown","isMouseDown","document","addEventListener","handleDocumentMouseUp","removeEventListener","handleClick","_this$props4","minCharacters","_this$state5","stopPropagation","toggle","handleIconClick","clearable","hasValue","clearValue","handleItemClick","_this$props5","currentValue","nativeEvent","stopImmediatePropagation","isAdditionItem","handleFocus","handleBlur","currentTarget","contains","activeElement","_this$props6","selectOnBlur","handleSearchChange","_ref","newQuery","handleKeyDown","getItemByValue","getDropdownAriaOptions","_this$props7","loading","ariaOptions","role","handleLabelClick","labelProps","selectedLabel","handleLabelRemove","offset","startIndex","lastIndex","wrapSelection","handleIconOverrides","predefinedProps","classes","className","onClick","computeSearchInputTabIndex","_this$props8","tabIndex","computeSearchInputWidth","style","display","textContent","searchWidth","Math","ceil","getBoundingClientRect","width","removeProperty","computeTabIndex","_this$props9","handleSearchInputOverrides","onChange","inputProps","scrollSelectedItemIntoView","menu","querySelector","isOutOfUpperView","offsetTop","scrollTop","isOutOfLowerView","clientHeight","setOpenDirection","dropdownRect","menuHeight","spaceAtTheBottom","documentElement","top","height","spaceAtTheTop","upward","triggerSetState","_this$props10","callback","handleClose","hasSearchFocus","blur","hasDropdownFocus","hasFocus","renderText","_this$props11","placeholder","_this$state6","_text","selectedItem","defaultProps","renderSearchInput","_this$props12","searchInput","innerRef","overrideProps","renderSearchSizer","_this$props13","renderLabels","_this$props14","renderLabel","_this$state7","selectedItems","index","active","as","onRemove","renderOptions","_this$props15","lazyLoad","noResultsMessage","_this$state8","isActive","optValue","opt","i","selected","pointerEvents","generateKey","renderMenu","_this$props16","children","direction","header","getDropdownMenuAriaOptions","isNil","menuChild","only","autoGenerateKey","_proto","prototype","getInitialAutoControlledState","getAutoControlledStateFromProps","nextProps","computedState","prevState","derivedState","__options","__value","shouldComputeSelectedIndex","componentDidMount","shouldComponentUpdate","nextState","componentDidUpdate","prevProps","_this$props17","openOnFocus","process","env","NODE_ENV","isNextValueArray","isArray","console","error","Object","toString","openable","_this$props18","render","_this$props19","basic","button","compact","fluid","floating","icon","inline","labeled","pointing","selection","scrolling","simple","trigger","_this$state9","rest","ElementType","onBlur","onKeyDown","onMouseDown","onFocus","name","on","handledProps","default","propTypes","elementType","oneOfType","element","string","oneOf","every","demand","bool","disallow","givenProps","any","isRequired","defaultOpen","defaultSearchQuery","defaultSelectedLabel","number","defaultUpward","defaultValue","arrayOf","node","object","onAddItem","func","onClose","onLabelClick","onOpen","onSearchChange","shape","array","autoControlledProps","Divider","Header","Item","Menu","SearchInput","Text"],"sources":["C:/Users/fahad/source/newgit/know-your-well/knowyourwell2/KnowYourWell/knowyourwell/knowyourwell/ClientApp/node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _includes from \"lodash-es/includes\";\nimport _compact from \"lodash-es/compact\";\nimport _map from \"lodash-es/map\";\nimport _every from \"lodash-es/every\";\nimport _without from \"lodash-es/without\";\nimport _find from \"lodash-es/find\";\nimport _dropRight from \"lodash-es/dropRight\";\nimport _isEmpty from \"lodash-es/isEmpty\";\nimport _size from \"lodash-es/size\";\nimport _difference from \"lodash-es/difference\";\nimport _union from \"lodash-es/union\";\nimport _get from \"lodash-es/get\";\nimport _noop from \"lodash-es/noop\";\nimport _isUndefined from \"lodash-es/isUndefined\";\nimport _invoke from \"lodash-es/invoke\";\nimport _has from \"lodash-es/has\";\nimport _isEqual from \"lodash-es/isEqual\";\nimport _isFunction from \"lodash-es/isFunction\";\nimport _pick from \"lodash-es/pick\";\nimport _isNil from \"lodash-es/isNil\";\nimport EventStack from '@semantic-ui-react/event-stack';\nimport { Ref } from '@fluentui/react-component-ref';\nimport cx from 'clsx';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement, createRef } from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, getElementType, getUnhandledProps, objectDiff, useKeyOnly, useKeyOrValueAndKey } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Label from '../../elements/Label';\nimport Flag from '../../elements/Flag';\nimport Image from '../../elements/Image';\nimport DropdownDivider from './DropdownDivider';\nimport DropdownItem from './DropdownItem';\nimport DropdownHeader from './DropdownHeader';\nimport DropdownMenu from './DropdownMenu';\nimport DropdownSearchInput from './DropdownSearchInput';\nimport DropdownText from './DropdownText';\nimport getMenuOptions from './utils/getMenuOptions';\nimport getSelectedIndex from './utils/getSelectedIndex';\n\nvar getKeyOrValue = function getKeyOrValue(key, value) {\n  return _isNil(key) ? value : key;\n};\n\nvar getKeyAndValues = function getKeyAndValues(options) {\n  return options ? options.map(function (option) {\n    return _pick(option, ['key', 'value']);\n  }) : options;\n};\n\nfunction renderItemContent(item) {\n  var flag = item.flag,\n      image = item.image,\n      text = item.text; // TODO: remove this in v3\n  // This maintains compatibility with Shorthand API in v1 as this might be called in \"Label.create()\"\n\n  if (_isFunction(text)) {\n    return text;\n  }\n\n  return {\n    content: /*#__PURE__*/React.createElement(React.Fragment, null, Flag.create(flag), Image.create(image), text)\n  };\n}\n/**\n * A dropdown allows a user to select a value from a series of options.\n * @see Form\n * @see Select\n * @see Menu\n */\n\n\nvar Dropdown = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Dropdown, _Component);\n\n  function Dropdown() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.searchRef = /*#__PURE__*/createRef();\n    _this.sizerRef = /*#__PURE__*/createRef();\n    _this.ref = /*#__PURE__*/createRef();\n\n    _this.handleChange = function (e, value) {\n      _invoke(_this.props, 'onChange', e, _extends({}, _this.props, {\n        value: value\n      }));\n    };\n\n    _this.closeOnChange = function (e) {\n      var _this$props = _this.props,\n          closeOnChange = _this$props.closeOnChange,\n          multiple = _this$props.multiple;\n      var shouldClose = _isUndefined(closeOnChange) ? !multiple : closeOnChange;\n\n      if (shouldClose) {\n        _this.close(e, _noop);\n      }\n    };\n\n    _this.closeOnEscape = function (e) {\n      if (!_this.props.closeOnEscape) return;\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close(e);\n    };\n\n    _this.moveSelectionOnKeyDown = function (e) {\n      var _moves;\n\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          selectOnNavigation = _this$props2.selectOnNavigation;\n      var open = _this.state.open;\n\n      if (!open) {\n        return;\n      }\n\n      var moves = (_moves = {}, _moves[keyboardKey.ArrowDown] = 1, _moves[keyboardKey.ArrowUp] = -1, _moves);\n      var move = moves[keyboardKey.getCode(e)];\n\n      if (move === undefined) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var nextIndex = _this.getSelectedIndexAfterMove(move);\n\n      if (!multiple && selectOnNavigation) {\n        _this.makeSelectedItemActive(e, nextIndex);\n      }\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n    };\n\n    _this.openOnSpace = function (e) {\n      var _e$target, _e$target2, _e$target3;\n\n      var shouldHandleEvent = _this.state.focus && !_this.state.open && keyboardKey.getCode(e) === keyboardKey.Spacebar;\n      var shouldPreventDefault = ((_e$target = e.target) == null ? void 0 : _e$target.tagName) !== 'INPUT' && ((_e$target2 = e.target) == null ? void 0 : _e$target2.tagName) !== 'TEXTAREA' && ((_e$target3 = e.target) == null ? void 0 : _e$target3.isContentEditable) !== true;\n\n      if (shouldHandleEvent) {\n        if (shouldPreventDefault) {\n          e.preventDefault();\n        }\n\n        _this.open(e);\n      }\n    };\n\n    _this.openOnArrow = function (e) {\n      var _this$state = _this.state,\n          focus = _this$state.focus,\n          open = _this$state.open;\n\n      if (focus && !open) {\n        var code = keyboardKey.getCode(e);\n\n        if (code === keyboardKey.ArrowDown || code === keyboardKey.ArrowUp) {\n          e.preventDefault();\n\n          _this.open(e);\n        }\n      }\n    };\n\n    _this.makeSelectedItemActive = function (e, selectedIndex) {\n      var _this$state2 = _this.state,\n          open = _this$state2.open,\n          value = _this$state2.value;\n      var multiple = _this.props.multiple;\n\n      var item = _this.getSelectedItem(selectedIndex);\n\n      var selectedValue = _get(item, 'value');\n\n      var disabled = _get(item, 'disabled'); // prevent selecting null if there was no selected item value\n      // prevent selecting duplicate items when the dropdown is closed\n      // prevent selecting disabled items\n\n\n      if (_isNil(selectedValue) || !open || disabled) {\n        return value;\n      } // state value may be undefined\n\n\n      var newValue = multiple ? _union(value, [selectedValue]) : selectedValue;\n      var valueHasChanged = multiple ? !!_difference(newValue, value).length : newValue !== value;\n\n      if (valueHasChanged) {\n        // notify the onChange prop that the user is trying to change value\n        _this.setState({\n          value: newValue\n        });\n\n        _this.handleChange(e, newValue); // Heads up! This event handler should be called after `onChange`\n        // Notify the onAddItem prop if this is a new value\n\n\n        if (item['data-additional']) {\n          _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n            value: selectedValue\n          }));\n        }\n      }\n\n      return value;\n    };\n\n    _this.selectItemOnEnter = function (e) {\n      var search = _this.props.search;\n      var _this$state3 = _this.state,\n          open = _this$state3.open,\n          selectedIndex = _this$state3.selectedIndex;\n\n      if (!open) {\n        return;\n      }\n\n      var shouldSelect = keyboardKey.getCode(e) === keyboardKey.Enter || // https://github.com/Semantic-Org/Semantic-UI-React/pull/3766\n      !search && keyboardKey.getCode(e) === keyboardKey.Spacebar;\n\n      if (!shouldSelect) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var optionSize = _size(getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      }));\n\n      if (search && optionSize === 0) {\n        return;\n      }\n\n      var nextValue = _this.makeSelectedItemActive(e, selectedIndex); // This is required as selected value may be the same\n\n\n      _this.setState({\n        selectedIndex: getSelectedIndex({\n          additionLabel: _this.props.additionLabel,\n          additionPosition: _this.props.additionPosition,\n          allowAdditions: _this.props.allowAdditions,\n          deburr: _this.props.deburr,\n          multiple: _this.props.multiple,\n          search: _this.props.search,\n          selectedIndex: selectedIndex,\n          value: nextValue,\n          options: _this.props.options,\n          searchQuery: ''\n        })\n      });\n\n      _this.closeOnChange(e);\n\n      _this.clearSearchQuery();\n\n      if (search) {\n        _invoke(_this.searchRef.current, 'focus');\n      }\n    };\n\n    _this.removeItemOnBackspace = function (e) {\n      var _this$props3 = _this.props,\n          multiple = _this$props3.multiple,\n          search = _this$props3.search;\n      var _this$state4 = _this.state,\n          searchQuery = _this$state4.searchQuery,\n          value = _this$state4.value;\n      if (keyboardKey.getCode(e) !== keyboardKey.Backspace) return;\n      if (searchQuery || !search || !multiple || _isEmpty(value)) return;\n      e.preventDefault(); // remove most recent value\n\n      var newValue = _dropRight(value);\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.closeOnDocumentClick = function (e) {\n      if (!_this.props.closeOnBlur) return; // If event happened in the dropdown, ignore it\n\n      if (_this.ref.current && doesNodeContainClick(_this.ref.current, e)) return;\n\n      _this.close();\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n\n      document.addEventListener('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      document.removeEventListener('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleClick = function (e) {\n      var _this$props4 = _this.props,\n          minCharacters = _this$props4.minCharacters,\n          search = _this$props4.search;\n      var _this$state5 = _this.state,\n          open = _this$state5.open,\n          searchQuery = _this$state5.searchQuery;\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent closeOnDocumentClick()\n\n\n      e.stopPropagation();\n      if (!search) return _this.toggle(e);\n\n      if (open) {\n        _invoke(_this.searchRef.current, 'focus');\n\n        return;\n      }\n\n      if (searchQuery.length >= minCharacters || minCharacters === 1) {\n        _this.open(e);\n\n        return;\n      }\n\n      _invoke(_this.searchRef.current, 'focus');\n    };\n\n    _this.handleIconClick = function (e) {\n      var clearable = _this.props.clearable;\n\n      var hasValue = _this.hasValue();\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent handleClick()\n\n\n      e.stopPropagation();\n\n      if (clearable && hasValue) {\n        _this.clearValue(e);\n      } else {\n        _this.toggle(e);\n      }\n    };\n\n    _this.handleItemClick = function (e, item) {\n      var _this$props5 = _this.props,\n          multiple = _this$props5.multiple,\n          search = _this$props5.search;\n      var currentValue = _this.state.value;\n      var value = item.value; // prevent toggle() in handleClick()\n\n      e.stopPropagation(); // prevent closeOnDocumentClick() if multiple or item is disabled\n\n      if (multiple || item.disabled) {\n        e.nativeEvent.stopImmediatePropagation();\n      }\n\n      if (item.disabled) {\n        return;\n      }\n\n      var isAdditionItem = item['data-additional'];\n      var newValue = multiple ? _union(_this.state.value, [value]) : value;\n      var valueHasChanged = multiple ? !!_difference(newValue, currentValue).length : newValue !== currentValue; // notify the onChange prop that the user is trying to change value\n\n      if (valueHasChanged) {\n        _this.setState({\n          value: newValue\n        });\n\n        _this.handleChange(e, newValue);\n      }\n\n      _this.clearSearchQuery();\n\n      if (search) {\n        _invoke(_this.searchRef.current, 'focus');\n      } else {\n        _invoke(_this.ref.current, 'focus');\n      }\n\n      _this.closeOnChange(e); // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n\n\n      if (isAdditionItem) {\n        _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n          value: value\n        }));\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      var focus = _this.state.focus;\n      if (focus) return;\n\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      // Heads up! Don't remove this.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/1315\n      var currentTarget = _get(e, 'currentTarget');\n\n      if (currentTarget && currentTarget.contains(document.activeElement)) return;\n      var _this$props6 = _this.props,\n          closeOnBlur = _this$props6.closeOnBlur,\n          multiple = _this$props6.multiple,\n          selectOnBlur = _this$props6.selectOnBlur; // do not \"blur\" when the mouse is down inside of the Dropdown\n\n      if (_this.isMouseDown) return;\n\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      if (selectOnBlur && !multiple) {\n        _this.makeSelectedItemActive(e, _this.state.selectedIndex);\n\n        if (closeOnBlur) _this.close();\n      }\n\n      _this.setState({\n        focus: false\n      });\n\n      _this.clearSearchQuery();\n    };\n\n    _this.handleSearchChange = function (e, _ref) {\n      var value = _ref.value;\n      // prevent propagating to this.props.onChange()\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        searchQuery: newQuery\n      }));\n\n      _this.setState({\n        searchQuery: newQuery,\n        selectedIndex: 0\n      }); // open search dropdown on search query\n\n\n      if (!open && newQuery.length >= minCharacters) {\n        _this.open();\n\n        return;\n      } // close search dropdown if search query is too small\n\n\n      if (open && minCharacters !== 1 && newQuery.length < minCharacters) _this.close();\n    };\n\n    _this.handleKeyDown = function (e) {\n      _this.moveSelectionOnKeyDown(e);\n\n      _this.openOnArrow(e);\n\n      _this.openOnSpace(e);\n\n      _this.selectItemOnEnter(e);\n\n      _invoke(_this.props, 'onKeyDown', e);\n    };\n\n    _this.getSelectedItem = function (selectedIndex) {\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      });\n      return _get(options, \"[\" + selectedIndex + \"]\");\n    };\n\n    _this.getItemByValue = function (value) {\n      var options = _this.props.options;\n      return _find(options, {\n        value: value\n      });\n    };\n\n    _this.getDropdownAriaOptions = function () {\n      var _this$props7 = _this.props,\n          loading = _this$props7.loading,\n          disabled = _this$props7.disabled,\n          search = _this$props7.search,\n          multiple = _this$props7.multiple;\n      var open = _this.state.open;\n      var ariaOptions = {\n        role: search ? 'combobox' : 'listbox',\n        'aria-busy': loading,\n        'aria-disabled': disabled,\n        'aria-expanded': !!open\n      };\n\n      if (ariaOptions.role === 'listbox') {\n        ariaOptions['aria-multiselectable'] = multiple;\n      }\n\n      return ariaOptions;\n    };\n\n    _this.clearSearchQuery = function () {\n      var searchQuery = _this.state.searchQuery;\n      if (searchQuery === undefined || searchQuery === '') return;\n\n      _this.setState({\n        searchQuery: ''\n      });\n    };\n\n    _this.handleLabelClick = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n\n      _this.setState({\n        selectedLabel: labelProps.value\n      });\n\n      _invoke(_this.props, 'onLabelClick', e, labelProps);\n    };\n\n    _this.handleLabelRemove = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n      var value = _this.state.value;\n\n      var newValue = _without(value, labelProps.value);\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.getSelectedIndexAfterMove = function (offset, startIndex) {\n      if (startIndex === void 0) {\n        startIndex = _this.state.selectedIndex;\n      }\n\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      }); // Prevent infinite loop\n      // TODO: remove left part of condition after children API will be removed\n\n      if (options === undefined || _every(options, 'disabled')) return;\n      var lastIndex = options.length - 1;\n      var wrapSelection = _this.props.wrapSelection; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = startIndex + offset; // if 'wrapSelection' is set to false and selection is after last or before first, it just does not change\n\n      if (!wrapSelection && (nextIndex > lastIndex || nextIndex < 0)) {\n        nextIndex = startIndex;\n      } else if (nextIndex > lastIndex) {\n        nextIndex = 0;\n      } else if (nextIndex < 0) {\n        nextIndex = lastIndex;\n      }\n\n      if (options[nextIndex].disabled) {\n        return _this.getSelectedIndexAfterMove(offset, nextIndex);\n      }\n\n      return nextIndex;\n    };\n\n    _this.handleIconOverrides = function (predefinedProps) {\n      var clearable = _this.props.clearable;\n      var classes = cx(clearable && _this.hasValue() && 'clear', predefinedProps.className);\n      return {\n        className: classes,\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e, predefinedProps);\n\n          _this.handleIconClick(e);\n        }\n      };\n    };\n\n    _this.clearValue = function (e) {\n      var multiple = _this.props.multiple;\n      var newValue = multiple ? [] : '';\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.computeSearchInputTabIndex = function () {\n      var _this$props8 = _this.props,\n          disabled = _this$props8.disabled,\n          tabIndex = _this$props8.tabIndex;\n      if (!_isNil(tabIndex)) return tabIndex;\n      return disabled ? -1 : 0;\n    };\n\n    _this.computeSearchInputWidth = function () {\n      var searchQuery = _this.state.searchQuery;\n\n      if (_this.sizerRef.current && searchQuery) {\n        // resize the search input, temporarily show the sizer so we can measure it\n        _this.sizerRef.current.style.display = 'inline';\n        _this.sizerRef.current.textContent = searchQuery;\n        var searchWidth = Math.ceil(_this.sizerRef.current.getBoundingClientRect().width);\n\n        _this.sizerRef.current.style.removeProperty('display');\n\n        return searchWidth;\n      }\n    };\n\n    _this.computeTabIndex = function () {\n      var _this$props9 = _this.props,\n          disabled = _this$props9.disabled,\n          search = _this$props9.search,\n          tabIndex = _this$props9.tabIndex; // don't set a root node tabIndex as the search input has its own tabIndex\n\n      if (search) return undefined;\n      if (disabled) return -1;\n      return _isNil(tabIndex) ? 0 : tabIndex;\n    };\n\n    _this.handleSearchInputOverrides = function (predefinedProps) {\n      return {\n        onChange: function onChange(e, inputProps) {\n          _invoke(predefinedProps, 'onChange', e, inputProps);\n\n          _this.handleSearchChange(e, inputProps);\n        }\n      };\n    };\n\n    _this.hasValue = function () {\n      var multiple = _this.props.multiple;\n      var value = _this.state.value;\n      return multiple ? !_isEmpty(value) : !_isNil(value) && value !== '';\n    };\n\n    _this.scrollSelectedItemIntoView = function () {\n      if (!_this.ref.current) return;\n\n      var menu = _this.ref.current.querySelector('.menu.visible');\n\n      if (!menu) return;\n      var item = menu.querySelector('.item.selected');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        // eslint-disable-next-line no-mixed-operators\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    };\n\n    _this.setOpenDirection = function () {\n      if (!_this.ref.current) return;\n\n      var menu = _this.ref.current.querySelector('.menu.visible');\n\n      if (!menu) return;\n\n      var dropdownRect = _this.ref.current.getBoundingClientRect();\n\n      var menuHeight = menu.clientHeight;\n      var spaceAtTheBottom = document.documentElement.clientHeight - dropdownRect.top - dropdownRect.height - menuHeight;\n      var spaceAtTheTop = dropdownRect.top - menuHeight;\n      var upward = spaceAtTheBottom < 0 && spaceAtTheTop > spaceAtTheBottom; // set state only if there's a relevant difference\n\n      if (!upward !== !_this.state.upward) {\n        _this.setState({\n          upward: upward\n        });\n      }\n    };\n\n    _this.open = function (e, triggerSetState) {\n      if (e === void 0) {\n        e = null;\n      }\n\n      if (triggerSetState === void 0) {\n        triggerSetState = true;\n      }\n\n      var _this$props10 = _this.props,\n          disabled = _this$props10.disabled,\n          search = _this$props10.search;\n      if (disabled) return;\n      if (search) _invoke(_this.searchRef.current, 'focus');\n\n      _invoke(_this.props, 'onOpen', e, _this.props);\n\n      if (triggerSetState) {\n        _this.setState({\n          open: true\n        });\n      }\n\n      _this.scrollSelectedItemIntoView();\n    };\n\n    _this.close = function (e, callback) {\n      if (callback === void 0) {\n        callback = _this.handleClose;\n      }\n\n      if (_this.state.open) {\n        _invoke(_this.props, 'onClose', e, _this.props);\n\n        _this.setState({\n          open: false\n        }, callback);\n      }\n    };\n\n    _this.handleClose = function () {\n      var hasSearchFocus = document.activeElement === _this.searchRef.current; // https://github.com/Semantic-Org/Semantic-UI-React/issues/627\n      // Blur the Dropdown on close so it is blurred after selecting an item.\n      // This is to prevent it from re-opening when switching tabs after selecting an item.\n\n      if (!hasSearchFocus && _this.ref.current) {\n        _this.ref.current.blur();\n      }\n\n      var hasDropdownFocus = document.activeElement === _this.ref.current;\n      var hasFocus = hasSearchFocus || hasDropdownFocus; // We need to keep the virtual model in sync with the browser focus change\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/692\n\n      _this.setState({\n        focus: hasFocus\n      });\n    };\n\n    _this.toggle = function (e) {\n      return _this.state.open ? _this.close(e) : _this.open(e);\n    };\n\n    _this.renderText = function () {\n      var _this$props11 = _this.props,\n          multiple = _this$props11.multiple,\n          placeholder = _this$props11.placeholder,\n          search = _this$props11.search,\n          text = _this$props11.text;\n      var _this$state6 = _this.state,\n          searchQuery = _this$state6.searchQuery,\n          selectedIndex = _this$state6.selectedIndex,\n          value = _this$state6.value,\n          open = _this$state6.open;\n\n      var hasValue = _this.hasValue();\n\n      var classes = cx(placeholder && !hasValue && 'default', 'text', search && searchQuery && 'filtered');\n      var _text = placeholder;\n      var selectedItem;\n\n      if (text) {\n        _text = text;\n      } else if (open && !multiple) {\n        selectedItem = _this.getSelectedItem(selectedIndex);\n      } else if (hasValue) {\n        selectedItem = _this.getItemByValue(value);\n      }\n\n      return DropdownText.create(selectedItem ? renderItemContent(selectedItem) : _text, {\n        defaultProps: {\n          className: classes\n        }\n      });\n    };\n\n    _this.renderSearchInput = function () {\n      var _this$props12 = _this.props,\n          search = _this$props12.search,\n          searchInput = _this$props12.searchInput;\n      var searchQuery = _this.state.searchQuery;\n      return search && /*#__PURE__*/React.createElement(Ref, {\n        innerRef: _this.searchRef\n      }, DropdownSearchInput.create(searchInput, {\n        defaultProps: {\n          style: {\n            width: _this.computeSearchInputWidth()\n          },\n          tabIndex: _this.computeSearchInputTabIndex(),\n          value: searchQuery\n        },\n        overrideProps: _this.handleSearchInputOverrides\n      }));\n    };\n\n    _this.renderSearchSizer = function () {\n      var _this$props13 = _this.props,\n          search = _this$props13.search,\n          multiple = _this$props13.multiple;\n      return search && multiple && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sizer\",\n        ref: _this.sizerRef\n      });\n    };\n\n    _this.renderLabels = function () {\n      var _this$props14 = _this.props,\n          multiple = _this$props14.multiple,\n          renderLabel = _this$props14.renderLabel;\n      var _this$state7 = _this.state,\n          selectedLabel = _this$state7.selectedLabel,\n          value = _this$state7.value;\n\n      if (!multiple || _isEmpty(value)) {\n        return;\n      }\n\n      var selectedItems = _map(value, _this.getItemByValue);\n\n      // if no item could be found for a given state value the selected item will be undefined\n      // compact the selectedItems so we only have actual objects left\n      return _map(_compact(selectedItems), function (item, index) {\n        var defaultProps = {\n          active: item.value === selectedLabel,\n          as: 'a',\n          key: getKeyOrValue(item.key, item.value),\n          onClick: _this.handleLabelClick,\n          onRemove: _this.handleLabelRemove,\n          value: item.value\n        };\n        return Label.create(renderLabel(item, index, defaultProps), {\n          defaultProps: defaultProps\n        });\n      });\n    };\n\n    _this.renderOptions = function () {\n      var _this$props15 = _this.props,\n          lazyLoad = _this$props15.lazyLoad,\n          multiple = _this$props15.multiple,\n          search = _this$props15.search,\n          noResultsMessage = _this$props15.noResultsMessage;\n      var _this$state8 = _this.state,\n          open = _this$state8.open,\n          selectedIndex = _this$state8.selectedIndex,\n          value = _this$state8.value; // lazy load, only render options when open\n\n      if (lazyLoad && !open) return null;\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      });\n\n      if (noResultsMessage !== null && search && _isEmpty(options)) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"message\"\n        }, noResultsMessage);\n      }\n\n      var isActive = multiple ? function (optValue) {\n        return _includes(value, optValue);\n      } : function (optValue) {\n        return optValue === value;\n      };\n      return _map(options, function (opt, i) {\n        return DropdownItem.create(_extends({\n          active: isActive(opt.value),\n          selected: selectedIndex === i\n        }, opt, {\n          key: getKeyOrValue(opt.key, opt.value),\n          // Needed for handling click events on disabled items\n          style: _extends({}, opt.style, {\n            pointerEvents: 'all'\n          })\n        }), {\n          generateKey: false,\n          overrideProps: function overrideProps(predefinedProps) {\n            return {\n              onClick: function onClick(e, item) {\n                predefinedProps.onClick == null ? void 0 : predefinedProps.onClick(e, item);\n\n                _this.handleItemClick(e, item);\n              }\n            };\n          }\n        });\n      });\n    };\n\n    _this.renderMenu = function () {\n      var _this$props16 = _this.props,\n          children = _this$props16.children,\n          direction = _this$props16.direction,\n          header = _this$props16.header;\n      var open = _this.state.open;\n\n      var ariaOptions = _this.getDropdownMenuAriaOptions(); // single menu child\n\n\n      if (!childrenUtils.isNil(children)) {\n        var menuChild = Children.only(children);\n        var className = cx(direction, useKeyOnly(open, 'visible'), menuChild.props.className);\n        return /*#__PURE__*/cloneElement(menuChild, _extends({\n          className: className\n        }, ariaOptions));\n      }\n\n      return /*#__PURE__*/React.createElement(DropdownMenu, _extends({}, ariaOptions, {\n        direction: direction,\n        open: open\n      }), DropdownHeader.create(header, {\n        autoGenerateKey: false\n      }), _this.renderOptions());\n    };\n\n    return _this;\n  }\n\n  var _proto = Dropdown.prototype;\n\n  _proto.getInitialAutoControlledState = function getInitialAutoControlledState() {\n    return {\n      focus: false,\n      searchQuery: ''\n    };\n  };\n\n  Dropdown.getAutoControlledStateFromProps = function getAutoControlledStateFromProps(nextProps, computedState, prevState) {\n    // These values are stored only for a comparison on next getAutoControlledStateFromProps()\n    var derivedState = {\n      __options: nextProps.options,\n      __value: computedState.value\n    }; // The selected index is only dependent:\n\n    var shouldComputeSelectedIndex = // On value change\n    !shallowEqual(prevState.__value, computedState.value) || // On option keys/values, we only check those properties to avoid recursive performance impacts.\n    // https://github.com/Semantic-Org/Semantic-UI-React/issues/3000\n    !_isEqual(getKeyAndValues(nextProps.options), getKeyAndValues(prevState.__options));\n\n    if (shouldComputeSelectedIndex) {\n      derivedState.selectedIndex = getSelectedIndex({\n        additionLabel: nextProps.additionLabel,\n        additionPosition: nextProps.additionPosition,\n        allowAdditions: nextProps.allowAdditions,\n        deburr: nextProps.deburr,\n        multiple: nextProps.multiple,\n        search: nextProps.search,\n        selectedIndex: computedState.selectedIndex,\n        value: computedState.value,\n        options: nextProps.options,\n        searchQuery: computedState.searchQuery\n      });\n    }\n\n    return derivedState;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var open = this.state.open;\n\n    if (open) {\n      this.open(null, false);\n    }\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-line complexity\n    var _this$props17 = this.props,\n        closeOnBlur = _this$props17.closeOnBlur,\n        minCharacters = _this$props17.minCharacters,\n        openOnFocus = _this$props17.openOnFocus,\n        search = _this$props17.search;\n    /* eslint-disable no-console */\n\n    if (process.env.NODE_ENV !== 'production') {\n      // in development, validate value type matches dropdown type\n      var isNextValueArray = Array.isArray(this.props.value);\n\n      var hasValue = _has(this.props, 'value');\n\n      if (hasValue && this.props.multiple && !isNextValueArray) {\n        console.error('Dropdown `value` must be an array when `multiple` is set.' + (\" Received type: `\" + Object.prototype.toString.call(this.props.value) + \"`.\"));\n      } else if (hasValue && !this.props.multiple && isNextValueArray) {\n        console.error('Dropdown `value` must not be an array when `multiple` is not set.' + ' Either set `multiple={true}` or use a string or number value.');\n      }\n    }\n    /* eslint-enable no-console */\n    // focused / blurred\n\n\n    if (!prevState.focus && this.state.focus) {\n      if (!this.isMouseDown) {\n        var openable = !search || search && minCharacters === 1 && !this.state.open;\n        if (openOnFocus && openable) this.open();\n      }\n    } else if (prevState.focus && !this.state.focus) {\n      if (!this.isMouseDown && closeOnBlur) {\n        this.close();\n      }\n    } // opened / closed\n\n\n    if (!prevState.open && this.state.open) {\n      this.setOpenDirection();\n      this.scrollSelectedItemIntoView();\n    } else if (prevState.open && !this.state.open) {}\n\n    if (prevState.selectedIndex !== this.state.selectedIndex) {\n      this.scrollSelectedItemIntoView();\n    }\n  } // ----------------------------------------\n  // Document Event Handlers\n  // ----------------------------------------\n  // onChange needs to receive a value\n  // can't rely on props.value if we are controlled\n  ;\n\n  _proto.getDropdownMenuAriaOptions = function getDropdownMenuAriaOptions() {\n    var _this$props18 = this.props,\n        search = _this$props18.search,\n        multiple = _this$props18.multiple;\n    var ariaOptions = {};\n\n    if (search) {\n      ariaOptions['aria-multiselectable'] = multiple;\n      ariaOptions.role = 'listbox';\n    }\n\n    return ariaOptions;\n  } // ----------------------------------------\n  // Setters\n  // ----------------------------------------\n  ;\n\n  _proto.render = function render() {\n    var _this$props19 = this.props,\n        basic = _this$props19.basic,\n        button = _this$props19.button,\n        className = _this$props19.className,\n        compact = _this$props19.compact,\n        disabled = _this$props19.disabled,\n        error = _this$props19.error,\n        fluid = _this$props19.fluid,\n        floating = _this$props19.floating,\n        icon = _this$props19.icon,\n        inline = _this$props19.inline,\n        item = _this$props19.item,\n        labeled = _this$props19.labeled,\n        loading = _this$props19.loading,\n        multiple = _this$props19.multiple,\n        pointing = _this$props19.pointing,\n        search = _this$props19.search,\n        selection = _this$props19.selection,\n        scrolling = _this$props19.scrolling,\n        simple = _this$props19.simple,\n        trigger = _this$props19.trigger;\n    var _this$state9 = this.state,\n        focus = _this$state9.focus,\n        open = _this$state9.open,\n        upward = _this$state9.upward; // Classes\n\n    var classes = cx('ui', useKeyOnly(open, 'active visible'), useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(loading, 'loading'), useKeyOnly(basic, 'basic'), useKeyOnly(button, 'button'), useKeyOnly(compact, 'compact'), useKeyOnly(fluid, 'fluid'), useKeyOnly(floating, 'floating'), useKeyOnly(inline, 'inline'), // TODO: consider augmentation to render Dropdowns as Button/Menu, solves icon/link item issues\n    // https://github.com/Semantic-Org/Semantic-UI-React/issues/401#issuecomment-240487229\n    // TODO: the icon class is only required when a dropdown is a button\n    // useKeyOnly(icon, 'icon'),\n    useKeyOnly(labeled, 'labeled'), useKeyOnly(item, 'item'), useKeyOnly(multiple, 'multiple'), useKeyOnly(search, 'search'), useKeyOnly(selection, 'selection'), useKeyOnly(simple, 'simple'), useKeyOnly(scrolling, 'scrolling'), useKeyOnly(upward, 'upward'), useKeyOrValueAndKey(pointing, 'pointing'), 'dropdown', className);\n    var rest = getUnhandledProps(Dropdown, this.props);\n    var ElementType = getElementType(Dropdown, this.props);\n    var ariaOptions = this.getDropdownAriaOptions(ElementType, this.props);\n    return /*#__PURE__*/React.createElement(Ref, {\n      innerRef: this.ref\n    }, /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, ariaOptions, {\n      className: classes,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeyDown,\n      onMouseDown: this.handleMouseDown,\n      onFocus: this.handleFocus,\n      onChange: this.handleChange,\n      tabIndex: this.computeTabIndex()\n    }), this.renderLabels(), this.renderSearchInput(), this.renderSearchSizer(), trigger || this.renderText(), Icon.create(icon, {\n      overrideProps: this.handleIconOverrides,\n      autoGenerateKey: false\n    }), this.renderMenu(), open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.closeOnEscape\n    }), open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"click\",\n      on: this.closeOnDocumentClick\n    }), focus && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.removeItemOnBackspace\n    })));\n  };\n\n  return Dropdown;\n}(Component);\n\nDropdown.handledProps = [\"additionLabel\", \"additionPosition\", \"allowAdditions\", \"as\", \"basic\", \"button\", \"children\", \"className\", \"clearable\", \"closeOnBlur\", \"closeOnChange\", \"closeOnEscape\", \"compact\", \"deburr\", \"defaultOpen\", \"defaultSearchQuery\", \"defaultSelectedLabel\", \"defaultUpward\", \"defaultValue\", \"direction\", \"disabled\", \"error\", \"floating\", \"fluid\", \"header\", \"icon\", \"inline\", \"item\", \"labeled\", \"lazyLoad\", \"loading\", \"minCharacters\", \"multiple\", \"noResultsMessage\", \"onAddItem\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onLabelClick\", \"onMouseDown\", \"onOpen\", \"onSearchChange\", \"open\", \"openOnFocus\", \"options\", \"placeholder\", \"pointing\", \"renderLabel\", \"scrolling\", \"search\", \"searchInput\", \"searchQuery\", \"selectOnBlur\", \"selectOnNavigation\", \"selectedLabel\", \"selection\", \"simple\", \"tabIndex\", \"text\", \"trigger\", \"upward\", \"value\", \"wrapSelection\"];\nexport { Dropdown as default };\nDropdown.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Label prefixed to an option added by a user. */\n  additionLabel: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\n  /** Position of the `Add: ...` option in the dropdown list ('top' or 'bottom'). */\n  additionPosition: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Allow user additions to the list of options (boolean).\n   * Requires the use of `selection`, `options` and `search`.\n   */\n  allowAdditions: customPropTypes.every([customPropTypes.demand(['options', 'selection', 'search']), PropTypes.bool]),\n\n  /** A Dropdown can reduce its complexity. */\n  basic: PropTypes.bool,\n\n  /** Format the Dropdown to appear as a button. */\n  button: PropTypes.bool,\n\n  /** Primary content. */\n  children: customPropTypes.every([customPropTypes.disallow(['options', 'selection']), customPropTypes.givenProps({\n    children: PropTypes.any.isRequired\n  }, PropTypes.element.isRequired)]),\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Using the clearable setting will let users remove their selection from a dropdown. */\n  clearable: PropTypes.bool,\n\n  /** Whether or not the menu should close when the dropdown is blurred. */\n  closeOnBlur: PropTypes.bool,\n\n  /** Whether or not the dropdown should close when the escape key is pressed. */\n  closeOnEscape: PropTypes.bool,\n\n  /**\n   * Whether or not the menu should close when a value is selected from the dropdown.\n   * By default, multiple selection dropdowns will remain open on change, while single\n   * selection dropdowns will close on change.\n   */\n  closeOnChange: PropTypes.bool,\n\n  /** A compact dropdown has no minimum width. */\n  compact: PropTypes.bool,\n\n  /** Whether or not the dropdown should strip diacritics in options and input search */\n  deburr: PropTypes.bool,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value of searchQuery. */\n  defaultSearchQuery: PropTypes.string,\n\n  /** Currently selected label in multi-select. */\n  defaultSelectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.number, PropTypes.string])]),\n\n  /** Initial value of upward. */\n  defaultUpward: PropTypes.bool,\n\n  /** Initial value or value array if multiple. */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]))]),\n\n  /** A dropdown menu can open to the left or to the right. */\n  direction: PropTypes.oneOf(['left', 'right']),\n\n  /** A disabled dropdown menu or item does not allow user interaction. */\n  disabled: PropTypes.bool,\n\n  /** An errored dropdown can alert a user to a problem. */\n  error: PropTypes.bool,\n\n  /** A dropdown menu can contain floated content. */\n  floating: PropTypes.bool,\n\n  /** A dropdown can take the full width of its parent */\n  fluid: PropTypes.bool,\n\n  /** A dropdown menu can contain a header. */\n  header: PropTypes.node,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** A dropdown can be formatted to appear inline in other content. */\n  inline: PropTypes.bool,\n\n  /** A dropdown can be formatted as a Menu item. */\n  item: PropTypes.bool,\n\n  /** A dropdown can be labeled. */\n  labeled: PropTypes.bool,\n\n  /** A dropdown can defer rendering its options until it is open. */\n  lazyLoad: PropTypes.bool,\n\n  /** A dropdown can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /** The minimum characters for a search to begin showing results. */\n  minCharacters: PropTypes.number,\n\n  /** A selection dropdown can allow multiple selections. */\n  multiple: PropTypes.bool,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /**\n   * Called when a user adds a new item. Use this to update the options list.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and the new item's value.\n   */\n  onAddItem: PropTypes.func,\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called when the user attempts to change the value.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called when a multi-select label is clicked.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All label props.\n   */\n  onLabelClick: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of searchQuery.\n   */\n  onSearchChange: PropTypes.func,\n\n  /** Controls whether or not the dropdown menu is displayed. */\n  open: PropTypes.bool,\n\n  /** Whether or not the menu should open when the dropdown is focused. */\n  openOnFocus: PropTypes.bool,\n\n  /** Array of Dropdown.Item props e.g. `{ text: '', value: '' }` */\n  options: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.arrayOf(PropTypes.shape(DropdownItem.propTypes))]),\n\n  /** Placeholder text. */\n  placeholder: PropTypes.string,\n\n  /** A dropdown can be formatted so that its menu is pointing. */\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['left', 'right', 'top', 'top left', 'top right', 'bottom', 'bottom left', 'bottom right'])]),\n\n  /**\n   * Mapped over the active items and returns shorthand for the active item Labels.\n   * Only applies to `multiple` Dropdowns.\n   *\n   * @param {object} item - A currently active dropdown item.\n   * @param {number} index - The current index.\n   * @param {object} defaultLabelProps - The default props for an active item Label.\n   * @returns {*} Shorthand for a Label.\n   */\n  renderLabel: PropTypes.func,\n\n  /** A dropdown can have its menu scroll. */\n  scrolling: PropTypes.bool,\n\n  /**\n   * A selection dropdown can allow a user to search through a large list of choices.\n   * Pass a function here to replace the default search.\n   */\n  search: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /** A shorthand for a search input. */\n  searchInput: PropTypes.oneOfType([PropTypes.array, PropTypes.node, PropTypes.object]),\n\n  /** Current value of searchQuery. Creates a controlled component. */\n  searchQuery: PropTypes.string,\n  // TODO 'searchInMenu' or 'search='in menu' or ???  How to handle this markup and functionality?\n\n  /** Define whether the highlighted item should be selected on blur. */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not to change the value when navigating the menu using arrow keys.\n   * Setting to false will require enter or left click to confirm a choice.\n   */\n  selectOnNavigation: PropTypes.bool,\n\n  /** Currently selected label in multi-select. */\n  selectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.string, PropTypes.number])]),\n\n  /** A dropdown can be used to select between choices in a form. */\n  selection: customPropTypes.every([customPropTypes.disallow(['children']), customPropTypes.demand(['options']), PropTypes.bool]),\n\n  /** A simple dropdown can open without Javascript. */\n  simple: PropTypes.bool,\n\n  /** A dropdown can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** The text displayed in the dropdown, usually for the active item. */\n  text: PropTypes.string,\n\n  /** Custom element to trigger the menu to become visible. Takes place of 'text'. */\n  trigger: customPropTypes.every([customPropTypes.disallow(['selection', 'text']), PropTypes.node]),\n\n  /** Current value or value array if multiple. Creates a controlled component. */\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]))]),\n\n  /** Controls whether the dropdown will open upward. */\n  upward: PropTypes.bool,\n\n  /**\n   * A dropdown will go to the last element when ArrowUp is pressed on the first,\n   * or go to the first when ArrowDown is pressed on the last( aka infinite selection )\n   */\n  wrapSelection: PropTypes.bool\n} : {};\nDropdown.defaultProps = {\n  additionLabel: 'Add ',\n  additionPosition: 'top',\n  closeOnBlur: true,\n  closeOnEscape: true,\n  deburr: false,\n  icon: 'dropdown',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  openOnFocus: true,\n  renderLabel: renderItemContent,\n  searchInput: 'text',\n  selectOnBlur: true,\n  selectOnNavigation: true,\n  wrapSelection: true\n};\nDropdown.autoControlledProps = ['open', 'searchQuery', 'selectedLabel', 'value', 'upward'];\nDropdown.Divider = DropdownDivider;\nDropdown.Header = DropdownHeader;\nDropdown.Item = DropdownItem;\nDropdown.Menu = DropdownMenu;\nDropdown.SearchInput = DropdownSearchInput;\nDropdown.Text = DropdownText;"],"mappings":"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"},"metadata":{},"sourceType":"module"}