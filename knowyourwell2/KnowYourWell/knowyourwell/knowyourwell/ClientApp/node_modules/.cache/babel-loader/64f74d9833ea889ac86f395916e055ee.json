{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar env = require('exenv');\n\nvar PropTypes = require('prop-types');\n\nvar React = require('react');\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n/**\n * The current implementation was chosen by performance and compatibility reasons, feel free to play\n * with benchmarks and submit PR with faster alternative. Each method contains links to benchmarks.\n */\n\n\nvar EventSet = /*#__PURE__*/function () {\n  /**\n   * @see https://jsperf.com/suir-eventset-constructor\n   */\n  function EventSet(eventHandlers) {\n    _classCallCheck(this, EventSet);\n\n    _defineProperty(this, \"handlers\", void 0);\n\n    this.handlers = eventHandlers.slice(0);\n  }\n  /**\n   * @see https://jsperf.com/suir-eventset-addhandlers\n   */\n\n\n  _createClass(EventSet, [{\n    key: \"addHandlers\",\n    value: function addHandlers(additionalHandlers) {\n      var newHandlers = this.handlers.slice(0);\n      var length = additionalHandlers.length; // Heads up!\n      // Previously we use Set there, it granted uniqueness of handlers, now dispatchEvent() is\n      // responsible for this.\n\n      for (var i = 0; i < length; i += 1) {\n        newHandlers.push(additionalHandlers[i]);\n      }\n\n      return new EventSet(newHandlers);\n    }\n    /**\n     * @see https://jsperf.com/suir-eventset-dispatchsingle\n     * @see https://jsperf.com/suir-eventset-dispatchmultiple2\n     */\n\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event, dispatchAll) {\n      var count = this.handlers.length - 1;\n\n      if (!dispatchAll) {\n        // Heads up!\n        // We don't use .pop() there because it will mutate the array.\n        var recentHandler = this.handlers[count];\n        recentHandler(event);\n        return;\n      }\n\n      for (var i = count; i >= 0; i -= 1) {\n        if (!this.handlers[i].called) {\n          this.handlers[i].called = true;\n          this.handlers[i](event);\n        }\n      }\n\n      for (var _i = count; _i >= 0; _i -= 1) {\n        this.handlers[_i].called = false;\n      }\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function hasHandlers() {\n      return this.handlers.length > 0;\n    }\n    /**\n     * @see https://jsperf.com/suir-eventset-removehandlers\n     */\n\n  }, {\n    key: \"removeHandlers\",\n    value: function removeHandlers(removalHandlers) {\n      var newHandlers = [];\n      var length = this.handlers.length;\n\n      for (var i = 0; i < length; i += 1) {\n        var handler = this.handlers[i];\n\n        if (removalHandlers.indexOf(handler) === -1) {\n          newHandlers.push(handler);\n        }\n      }\n\n      return new EventSet(newHandlers);\n    }\n  }]);\n\n  return EventSet;\n}();\n/**\n * An IE11-compatible function.\n *\n * @see https://jsperf.com/suir-clone-map\n */\n\n\nfunction cloneMap(map) {\n  var newMap = new Map();\n  map.forEach(function (value, key) {\n    newMap.set(key, value);\n  });\n  return newMap;\n}\n\nfunction normalizeHandlers(handlers) {\n  return Array.isArray(handlers) ? handlers : [handlers];\n}\n/**\n * Asserts that the passed value is React.RefObject\n *\n * @see https://github.com/facebook/react/blob/v16.8.2/packages/react-reconciler/src/ReactFiberCommitWork.js#L665\n */\n\n\nvar isRefObject = function isRefObject(ref // eslint-disable-next-line\n) {\n  return ref !== null && _typeof(ref) === 'object' && ref.hasOwnProperty('current');\n};\n/**\n * Normalizes `target` for EventStack, because `target` can be passed as `boolean` or `string`.\n *\n * @see https://jsperf.com/suir-normalize-target\n */\n\n\nfunction normalizeTarget(target) {\n  if (target === 'document') return document;\n  if (target === 'window') return window;\n  if (isRefObject(target)) return target.current || document;\n  return target || document;\n}\n\nvar EventPool = /*#__PURE__*/function () {\n  function EventPool(poolName, handlerSets) {\n    _classCallCheck(this, EventPool);\n\n    _defineProperty(this, \"handlerSets\", void 0);\n\n    _defineProperty(this, \"poolName\", void 0);\n\n    this.handlerSets = handlerSets;\n    this.poolName = poolName;\n  }\n\n  _createClass(EventPool, [{\n    key: \"addHandlers\",\n    value: function addHandlers(eventType, eventHandlers) {\n      var handlerSets = cloneMap(this.handlerSets);\n\n      if (handlerSets.has(eventType)) {\n        var eventSet = handlerSets.get(eventType);\n        handlerSets.set(eventType, eventSet.addHandlers(eventHandlers));\n      } else {\n        handlerSets.set(eventType, new EventSet(eventHandlers));\n      }\n\n      return new EventPool(this.poolName, handlerSets);\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(eventType, event) {\n      var handlerSet = this.handlerSets.get(eventType);\n      var shouldDispatchAll = this.poolName === 'default';\n\n      if (handlerSet) {\n        handlerSet.dispatchEvent(event, shouldDispatchAll);\n      }\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function hasHandlers(eventType) {\n      if (!eventType) {\n        return this.handlerSets.size > 0;\n      }\n\n      var eventSet = this.handlerSets.get(eventType);\n\n      if (eventSet) {\n        return eventSet.hasHandlers();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"removeHandlers\",\n    value: function removeHandlers(eventType, eventHandlers) {\n      var handlerSets = cloneMap(this.handlerSets);\n\n      if (!handlerSets.has(eventType)) {\n        return new EventPool(this.poolName, handlerSets);\n      }\n\n      var currentSet = handlerSets.get(eventType);\n      var nextSet = currentSet.removeHandlers(eventHandlers);\n\n      if (nextSet.hasHandlers()) {\n        handlerSets.set(eventType, nextSet);\n      } else {\n        handlerSets.delete(eventType);\n      }\n\n      return new EventPool(this.poolName, handlerSets);\n    }\n  }]);\n\n  return EventPool;\n}();\n\n_defineProperty(EventPool, \"createByType\", function (poolName, eventType, eventHandlers) {\n  var handlerSets = new Map();\n  handlerSets.set(eventType, new EventSet(eventHandlers));\n  return new EventPool(poolName, handlerSets);\n});\n\nvar EventTarget = /*#__PURE__*/function () {\n  function EventTarget(target) {\n    var _this = this;\n\n    _classCallCheck(this, EventTarget);\n\n    _defineProperty(this, \"handlers\", new Map());\n\n    _defineProperty(this, \"pools\", new Map());\n\n    _defineProperty(this, \"target\", void 0);\n\n    _defineProperty(this, \"createEmitter\", function (eventType) {\n      return function (event) {\n        _this.pools.forEach(function (pool) {\n          pool.dispatchEvent(eventType, event);\n        });\n      };\n    });\n\n    this.target = target;\n  }\n\n  _createClass(EventTarget, [{\n    key: \"addHandlers\",\n    value: function addHandlers(poolName, eventType, eventHandlers) {\n      if (this.pools.has(poolName)) {\n        var eventPool = this.pools.get(poolName);\n        this.pools.set(poolName, eventPool.addHandlers(eventType, eventHandlers));\n      } else {\n        this.pools.set(poolName, EventPool.createByType(poolName, eventType, eventHandlers));\n      }\n\n      if (!this.handlers.has(eventType)) {\n        this.addTargetHandler(eventType);\n      }\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function hasHandlers() {\n      return this.handlers.size > 0;\n    }\n  }, {\n    key: \"removeHandlers\",\n    value: function removeHandlers(poolName, eventType, eventHandlers) {\n      if (!this.pools.has(poolName)) {\n        return;\n      }\n\n      var pool = this.pools.get(poolName);\n      var newPool = pool.removeHandlers(eventType, eventHandlers);\n\n      if (newPool.hasHandlers()) {\n        this.pools.set(poolName, newPool);\n      } else {\n        this.pools.delete(poolName);\n      }\n\n      var hasHandlers = false;\n      this.pools.forEach(function (pool) {\n        return hasHandlers = hasHandlers || pool.hasHandlers(eventType);\n      });\n\n      if (!hasHandlers) {\n        this.removeTargetHandler(eventType);\n      }\n    }\n  }, {\n    key: \"addTargetHandler\",\n    value: function addTargetHandler(eventType) {\n      var handler = this.createEmitter(eventType);\n      this.handlers.set(eventType, handler);\n      this.target.addEventListener(eventType, handler, true);\n    }\n  }, {\n    key: \"removeTargetHandler\",\n    value: function removeTargetHandler(eventType) {\n      if (this.handlers.has(eventType)) {\n        this.target.removeEventListener(eventType, this.handlers.get(eventType), true);\n        this.handlers.delete(eventType);\n      }\n    }\n  }]);\n\n  return EventTarget;\n}();\n\nvar EventStack = /*#__PURE__*/function () {\n  function EventStack() {\n    var _this = this;\n\n    _classCallCheck(this, EventStack);\n\n    _defineProperty(this, \"targets\", new Map());\n\n    _defineProperty(this, \"getTarget\", function (target) {\n      var autoCreate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var normalized = normalizeTarget(target);\n\n      if (_this.targets.has(normalized)) {\n        return _this.targets.get(normalized);\n      }\n\n      if (!autoCreate) return null;\n      var eventTarget = new EventTarget(normalized);\n\n      _this.targets.set(normalized, eventTarget);\n\n      return eventTarget;\n    });\n\n    _defineProperty(this, \"removeTarget\", function (target) {\n      _this.targets.delete(normalizeTarget(target));\n    });\n  }\n\n  _createClass(EventStack, [{\n    key: \"sub\",\n    value: function sub(eventName, eventHandlers) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (!env.canUseDOM) return;\n      var _options$target = options.target,\n          target = _options$target === void 0 ? document : _options$target,\n          _options$pool = options.pool,\n          pool = _options$pool === void 0 ? 'default' : _options$pool;\n      var eventTarget = this.getTarget(target);\n      eventTarget.addHandlers(pool, eventName, normalizeHandlers(eventHandlers));\n    }\n  }, {\n    key: \"unsub\",\n    value: function unsub(eventName, eventHandlers) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (!env.canUseDOM) return;\n      var _options$target2 = options.target,\n          target = _options$target2 === void 0 ? document : _options$target2,\n          _options$pool2 = options.pool,\n          pool = _options$pool2 === void 0 ? 'default' : _options$pool2;\n      var eventTarget = this.getTarget(target, false);\n\n      if (eventTarget) {\n        eventTarget.removeHandlers(pool, eventName, normalizeHandlers(eventHandlers));\n        if (!eventTarget.hasHandlers()) this.removeTarget(target);\n      }\n    }\n  }]);\n\n  return EventStack;\n}();\n\nvar instance = new EventStack();\n/**\n * This component exposes the EventStack API as public and provides a declarative way to manage it.\n */\n\nvar EventStack$1 = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(EventStack, _React$PureComponent);\n\n  function EventStack() {\n    _classCallCheck(this, EventStack);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(EventStack).apply(this, arguments));\n  }\n\n  _createClass(EventStack, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.subscribe(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.unsubscribe(prevProps);\n      this.subscribe(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unsubscribe(this.props);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(props) {\n      var name = props.name,\n          on = props.on,\n          pool = props.pool,\n          target = props.target;\n      instance.sub(name, on, {\n        pool: pool,\n        target: target\n      });\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(props) {\n      var name = props.name,\n          on = props.on,\n          pool = props.pool,\n          target = props.target;\n      instance.unsub(name, on, {\n        pool: pool,\n        target: target\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return EventStack;\n}(React.PureComponent);\n\n_defineProperty(EventStack$1, \"defaultProps\", {\n  pool: 'default',\n  target: 'document'\n});\n\nEventStack$1.propTypes = {\n  /** An event name on which we will subscribe. */\n  name: PropTypes.string.isRequired,\n\n  /** An event handler or array of event handlers. */\n  on: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]).isRequired,\n\n  /** A name of pool. */\n  pool: PropTypes.string,\n\n  /** A DOM element on which we will subscribe. */\n  target: PropTypes.oneOfType([PropTypes.oneOf(['document', 'window']), // Heads up!\n  // This condition for SSR safety.\n  PropTypes.instanceOf(env.canUseDOM ? HTMLElement : Object), PropTypes.shape({\n    current: PropTypes.object\n  })])\n};\nexports.instance = instance;\nexports.default = EventStack$1;","map":{"version":3,"names":["Object","defineProperty","exports","value","env","require","PropTypes","React","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_defineProperty","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","EventSet","eventHandlers","handlers","slice","addHandlers","additionalHandlers","newHandlers","push","dispatchEvent","event","dispatchAll","count","recentHandler","called","_i","hasHandlers","removeHandlers","removalHandlers","handler","indexOf","cloneMap","map","newMap","Map","forEach","set","normalizeHandlers","Array","isArray","isRefObject","ref","hasOwnProperty","normalizeTarget","document","window","current","EventPool","poolName","handlerSets","eventType","has","eventSet","get","handlerSet","shouldDispatchAll","size","currentSet","nextSet","delete","EventTarget","_this","pools","pool","eventPool","createByType","addTargetHandler","newPool","removeTargetHandler","createEmitter","addEventListener","removeEventListener","EventStack","autoCreate","arguments","undefined","normalized","targets","eventTarget","sub","eventName","options","canUseDOM","_options$target","_options$pool","getTarget","unsub","_options$target2","_options$pool2","removeTarget","EventStack$1","_React$PureComponent","apply","componentDidMount","subscribe","componentDidUpdate","prevProps","unsubscribe","componentWillUnmount","name","on","render","PureComponent","propTypes","string","isRequired","oneOfType","func","arrayOf","oneOf","instanceOf","HTMLElement","shape","object","default"],"sources":["C:/Users/fahad/source/newgit/know-your-well/knowyourwell2/KnowYourWell/knowyourwell/knowyourwell/ClientApp/node_modules/@semantic-ui-react/event-stack/lib/cjs/event-stack.development.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar env = require('exenv');\nvar PropTypes = require('prop-types');\nvar React = require('react');\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\n/**\n * The current implementation was chosen by performance and compatibility reasons, feel free to play\n * with benchmarks and submit PR with faster alternative. Each method contains links to benchmarks.\n */\nvar EventSet =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @see https://jsperf.com/suir-eventset-constructor\n   */\n  function EventSet(eventHandlers) {\n    _classCallCheck(this, EventSet);\n\n    _defineProperty(this, \"handlers\", void 0);\n\n    this.handlers = eventHandlers.slice(0);\n  }\n  /**\n   * @see https://jsperf.com/suir-eventset-addhandlers\n   */\n\n\n  _createClass(EventSet, [{\n    key: \"addHandlers\",\n    value: function addHandlers(additionalHandlers) {\n      var newHandlers = this.handlers.slice(0);\n      var length = additionalHandlers.length; // Heads up!\n      // Previously we use Set there, it granted uniqueness of handlers, now dispatchEvent() is\n      // responsible for this.\n\n      for (var i = 0; i < length; i += 1) {\n        newHandlers.push(additionalHandlers[i]);\n      }\n\n      return new EventSet(newHandlers);\n    }\n    /**\n     * @see https://jsperf.com/suir-eventset-dispatchsingle\n     * @see https://jsperf.com/suir-eventset-dispatchmultiple2\n     */\n\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event, dispatchAll) {\n      var count = this.handlers.length - 1;\n\n      if (!dispatchAll) {\n        // Heads up!\n        // We don't use .pop() there because it will mutate the array.\n        var recentHandler = this.handlers[count];\n        recentHandler(event);\n        return;\n      }\n\n      for (var i = count; i >= 0; i -= 1) {\n        if (!this.handlers[i].called) {\n          this.handlers[i].called = true;\n          this.handlers[i](event);\n        }\n      }\n\n      for (var _i = count; _i >= 0; _i -= 1) {\n        this.handlers[_i].called = false;\n      }\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function hasHandlers() {\n      return this.handlers.length > 0;\n    }\n    /**\n     * @see https://jsperf.com/suir-eventset-removehandlers\n     */\n\n  }, {\n    key: \"removeHandlers\",\n    value: function removeHandlers(removalHandlers) {\n      var newHandlers = [];\n      var length = this.handlers.length;\n\n      for (var i = 0; i < length; i += 1) {\n        var handler = this.handlers[i];\n\n        if (removalHandlers.indexOf(handler) === -1) {\n          newHandlers.push(handler);\n        }\n      }\n\n      return new EventSet(newHandlers);\n    }\n  }]);\n\n  return EventSet;\n}();\n\n/**\n * An IE11-compatible function.\n *\n * @see https://jsperf.com/suir-clone-map\n */\nfunction cloneMap(map) {\n  var newMap = new Map();\n  map.forEach(function (value, key) {\n    newMap.set(key, value);\n  });\n  return newMap;\n}\nfunction normalizeHandlers(handlers) {\n  return Array.isArray(handlers) ? handlers : [handlers];\n}\n/**\n * Asserts that the passed value is React.RefObject\n *\n * @see https://github.com/facebook/react/blob/v16.8.2/packages/react-reconciler/src/ReactFiberCommitWork.js#L665\n */\n\nvar isRefObject = function isRefObject(ref // eslint-disable-next-line\n) {\n  return ref !== null && _typeof(ref) === 'object' && ref.hasOwnProperty('current');\n};\n/**\n * Normalizes `target` for EventStack, because `target` can be passed as `boolean` or `string`.\n *\n * @see https://jsperf.com/suir-normalize-target\n */\n\nfunction normalizeTarget(target) {\n  if (target === 'document') return document;\n  if (target === 'window') return window;\n  if (isRefObject(target)) return target.current || document;\n  return target || document;\n}\n\nvar EventPool =\n/*#__PURE__*/\nfunction () {\n  function EventPool(poolName, handlerSets) {\n    _classCallCheck(this, EventPool);\n\n    _defineProperty(this, \"handlerSets\", void 0);\n\n    _defineProperty(this, \"poolName\", void 0);\n\n    this.handlerSets = handlerSets;\n    this.poolName = poolName;\n  }\n\n  _createClass(EventPool, [{\n    key: \"addHandlers\",\n    value: function addHandlers(eventType, eventHandlers) {\n      var handlerSets = cloneMap(this.handlerSets);\n\n      if (handlerSets.has(eventType)) {\n        var eventSet = handlerSets.get(eventType);\n        handlerSets.set(eventType, eventSet.addHandlers(eventHandlers));\n      } else {\n        handlerSets.set(eventType, new EventSet(eventHandlers));\n      }\n\n      return new EventPool(this.poolName, handlerSets);\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(eventType, event) {\n      var handlerSet = this.handlerSets.get(eventType);\n      var shouldDispatchAll = this.poolName === 'default';\n\n      if (handlerSet) {\n        handlerSet.dispatchEvent(event, shouldDispatchAll);\n      }\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function hasHandlers(eventType) {\n      if (!eventType) {\n        return this.handlerSets.size > 0;\n      }\n\n      var eventSet = this.handlerSets.get(eventType);\n\n      if (eventSet) {\n        return eventSet.hasHandlers();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"removeHandlers\",\n    value: function removeHandlers(eventType, eventHandlers) {\n      var handlerSets = cloneMap(this.handlerSets);\n\n      if (!handlerSets.has(eventType)) {\n        return new EventPool(this.poolName, handlerSets);\n      }\n\n      var currentSet = handlerSets.get(eventType);\n      var nextSet = currentSet.removeHandlers(eventHandlers);\n\n      if (nextSet.hasHandlers()) {\n        handlerSets.set(eventType, nextSet);\n      } else {\n        handlerSets.delete(eventType);\n      }\n\n      return new EventPool(this.poolName, handlerSets);\n    }\n  }]);\n\n  return EventPool;\n}();\n\n_defineProperty(EventPool, \"createByType\", function (poolName, eventType, eventHandlers) {\n  var handlerSets = new Map();\n  handlerSets.set(eventType, new EventSet(eventHandlers));\n  return new EventPool(poolName, handlerSets);\n});\n\nvar EventTarget =\n/*#__PURE__*/\nfunction () {\n  function EventTarget(target) {\n    var _this = this;\n\n    _classCallCheck(this, EventTarget);\n\n    _defineProperty(this, \"handlers\", new Map());\n\n    _defineProperty(this, \"pools\", new Map());\n\n    _defineProperty(this, \"target\", void 0);\n\n    _defineProperty(this, \"createEmitter\", function (eventType) {\n      return function (event) {\n        _this.pools.forEach(function (pool) {\n          pool.dispatchEvent(eventType, event);\n        });\n      };\n    });\n\n    this.target = target;\n  }\n\n  _createClass(EventTarget, [{\n    key: \"addHandlers\",\n    value: function addHandlers(poolName, eventType, eventHandlers) {\n      if (this.pools.has(poolName)) {\n        var eventPool = this.pools.get(poolName);\n        this.pools.set(poolName, eventPool.addHandlers(eventType, eventHandlers));\n      } else {\n        this.pools.set(poolName, EventPool.createByType(poolName, eventType, eventHandlers));\n      }\n\n      if (!this.handlers.has(eventType)) {\n        this.addTargetHandler(eventType);\n      }\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function hasHandlers() {\n      return this.handlers.size > 0;\n    }\n  }, {\n    key: \"removeHandlers\",\n    value: function removeHandlers(poolName, eventType, eventHandlers) {\n      if (!this.pools.has(poolName)) {\n        return;\n      }\n\n      var pool = this.pools.get(poolName);\n      var newPool = pool.removeHandlers(eventType, eventHandlers);\n\n      if (newPool.hasHandlers()) {\n        this.pools.set(poolName, newPool);\n      } else {\n        this.pools.delete(poolName);\n      }\n\n      var hasHandlers = false;\n      this.pools.forEach(function (pool) {\n        return hasHandlers = hasHandlers || pool.hasHandlers(eventType);\n      });\n\n      if (!hasHandlers) {\n        this.removeTargetHandler(eventType);\n      }\n    }\n  }, {\n    key: \"addTargetHandler\",\n    value: function addTargetHandler(eventType) {\n      var handler = this.createEmitter(eventType);\n      this.handlers.set(eventType, handler);\n      this.target.addEventListener(eventType, handler, true);\n    }\n  }, {\n    key: \"removeTargetHandler\",\n    value: function removeTargetHandler(eventType) {\n      if (this.handlers.has(eventType)) {\n        this.target.removeEventListener(eventType, this.handlers.get(eventType), true);\n        this.handlers.delete(eventType);\n      }\n    }\n  }]);\n\n  return EventTarget;\n}();\n\nvar EventStack =\n/*#__PURE__*/\nfunction () {\n  function EventStack() {\n    var _this = this;\n\n    _classCallCheck(this, EventStack);\n\n    _defineProperty(this, \"targets\", new Map());\n\n    _defineProperty(this, \"getTarget\", function (target) {\n      var autoCreate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var normalized = normalizeTarget(target);\n\n      if (_this.targets.has(normalized)) {\n        return _this.targets.get(normalized);\n      }\n\n      if (!autoCreate) return null;\n      var eventTarget = new EventTarget(normalized);\n\n      _this.targets.set(normalized, eventTarget);\n\n      return eventTarget;\n    });\n\n    _defineProperty(this, \"removeTarget\", function (target) {\n      _this.targets.delete(normalizeTarget(target));\n    });\n  }\n\n  _createClass(EventStack, [{\n    key: \"sub\",\n    value: function sub(eventName, eventHandlers) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (!env.canUseDOM) return;\n      var _options$target = options.target,\n          target = _options$target === void 0 ? document : _options$target,\n          _options$pool = options.pool,\n          pool = _options$pool === void 0 ? 'default' : _options$pool;\n      var eventTarget = this.getTarget(target);\n      eventTarget.addHandlers(pool, eventName, normalizeHandlers(eventHandlers));\n    }\n  }, {\n    key: \"unsub\",\n    value: function unsub(eventName, eventHandlers) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (!env.canUseDOM) return;\n      var _options$target2 = options.target,\n          target = _options$target2 === void 0 ? document : _options$target2,\n          _options$pool2 = options.pool,\n          pool = _options$pool2 === void 0 ? 'default' : _options$pool2;\n      var eventTarget = this.getTarget(target, false);\n\n      if (eventTarget) {\n        eventTarget.removeHandlers(pool, eventName, normalizeHandlers(eventHandlers));\n        if (!eventTarget.hasHandlers()) this.removeTarget(target);\n      }\n    }\n  }]);\n\n  return EventStack;\n}();\n\nvar instance = new EventStack();\n\n/**\n * This component exposes the EventStack API as public and provides a declarative way to manage it.\n */\nvar EventStack$1 =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(EventStack, _React$PureComponent);\n\n  function EventStack() {\n    _classCallCheck(this, EventStack);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(EventStack).apply(this, arguments));\n  }\n\n  _createClass(EventStack, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.subscribe(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.unsubscribe(prevProps);\n      this.subscribe(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unsubscribe(this.props);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(props) {\n      var name = props.name,\n          on = props.on,\n          pool = props.pool,\n          target = props.target;\n      instance.sub(name, on, {\n        pool: pool,\n        target: target\n      });\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(props) {\n      var name = props.name,\n          on = props.on,\n          pool = props.pool,\n          target = props.target;\n      instance.unsub(name, on, {\n        pool: pool,\n        target: target\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return EventStack;\n}(React.PureComponent);\n\n_defineProperty(EventStack$1, \"defaultProps\", {\n  pool: 'default',\n  target: 'document'\n});\nEventStack$1.propTypes = {\n  /** An event name on which we will subscribe. */\n  name: PropTypes.string.isRequired,\n\n  /** An event handler or array of event handlers. */\n  on: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]).isRequired,\n\n  /** A name of pool. */\n  pool: PropTypes.string,\n\n  /** A DOM element on which we will subscribe. */\n  target: PropTypes.oneOfType([PropTypes.oneOf(['document', 'window']), // Heads up!\n  // This condition for SSR safety.\n  PropTypes.instanceOf(env.canUseDOM ? HTMLElement : Object), PropTypes.shape({\n    current: PropTypes.object\n  })])\n};\n\nexports.instance = instance;\nexports.default = EventStack$1;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}